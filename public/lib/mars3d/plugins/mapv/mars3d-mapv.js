/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.11
 * 编译日期：2023-11-04 00:08:20
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x51b2(_0x4f2df4,_0x2f0291){const _0x5d3366=_0x5d33();return _0x51b2=function(_0x51b21c,_0x675dc8){_0x51b21c=_0x51b21c-0x6e;let _0x5e8e51=_0x5d3366[_0x51b21c];return _0x5e8e51;},_0x51b2(_0x4f2df4,_0x2f0291);}const _0x10d1bc=_0x51b2;(function(_0x430937,_0x300298){const _0xa81d9f={_0x377874:0xad,_0x5edba6:0x7d,_0x54deb3:0xa5,_0x27e81a:0xd2,_0x3784dc:0xaa,_0x23a8ff:0x75,_0x171682:0xc7,_0x2f51cb:0x88},_0x2268b0=_0x51b2,_0xd0a779=_0x430937();while(!![]){try{const _0x35e4a0=parseInt(_0x2268b0(0x71))/0x1*(parseInt(_0x2268b0(_0xa81d9f._0x377874))/0x2)+parseInt(_0x2268b0(_0xa81d9f._0x5edba6))/0x3*(-parseInt(_0x2268b0(_0xa81d9f._0x54deb3))/0x4)+parseInt(_0x2268b0(_0xa81d9f._0x27e81a))/0x5*(parseInt(_0x2268b0(_0xa81d9f._0x3784dc))/0x6)+parseInt(_0x2268b0(0x91))/0x7*(parseInt(_0x2268b0(0x78))/0x8)+-parseInt(_0x2268b0(_0xa81d9f._0x23a8ff))/0x9*(-parseInt(_0x2268b0(_0xa81d9f._0x171682))/0xa)+-parseInt(_0x2268b0(0x72))/0xb+parseInt(_0x2268b0(_0xa81d9f._0x2f51cb))/0xc*(-parseInt(_0x2268b0(0xd1))/0xd);if(_0x35e4a0===_0x300298)break;else _0xd0a779['push'](_0xd0a779['shift']());}catch(_0x2816b7){_0xd0a779['push'](_0xd0a779['shift']());}}}(_0x5d33,0x2422e));function _0x5d33(){const _0x19bd05=['_canvasUpdate','bindEvent','_data','animation','off','map','29grcIYD','1517879VrwBjE','animator','unbindEvent','1305YzfBiS','getData','_onMapClick','590872QeGMsW','scene','_cache_event','update','baiduMapLayer','3zIlQHL','width','none','canvasLayer','cartesianToCanvasCoordinates','methods','steps','removeAllData','animatorMoveendEvent','clearData','time','2241888BHhKSb','push','MultiPolygon','length','mapvAutoHeight','0px','_reset','_mapVRenderer','defineProperty','28QXJxUq','parentElement','resize','clearRect','_onMoveStartEvent','draw','height','initDevicePixelRatio','Rectangle','get','zIndex','auto','init','cameraMoveStart','mousemoveEvent','DataSet','defined','_onMoveEndEvent','create','_onMapMouseMove','1121060hSQdhk','mouseMove','ellipsoid','Cartesian3','left','60GpVEzv','container','removeChild','11898REHfaw','options','bind','canvas','getOwnPropertyDescriptor','EventType','Cesium','_map','MapVLayer','pointerEvents','context','mousemove','SCENE3D','postRender','click','default','all','isEnabledTime','save','_removedHook','fromDegrees','devicePixelRatio','register','style','mapvFixedHeight','display','13790JpUiMo','__esModule','Polygon','clear','initDataRange','xmax','windowPosition','fixedHeight','mars3d-mapv','render','13vIGEep','42590hxEkiQ','updateData','add','_coordinates','dataSet','animatorMovestartEvent'];_0x5d33=function(){return _0x19bd05;};return _0x5d33();}function _interopNamespace(_0x5b2637){const _0x28b201={_0x105187:0xc8},_0x51e8d2={_0x5df5d0:0xbc,_0x2416dc:0xb1},_0x1bb263=_0x51b2;if(_0x5b2637&&_0x5b2637[_0x1bb263(_0x28b201._0x105187)])return _0x5b2637;var _0x5e0034=Object[_0x1bb263(0xa3)](null);return _0x5b2637&&Object['keys'](_0x5b2637)['forEach'](function(_0x400acf){const _0x4039e5=_0x1bb263;if(_0x400acf!==_0x4039e5(_0x51e8d2._0x5df5d0)){var _0x3f067a=Object[_0x4039e5(_0x51e8d2._0x2416dc)](_0x5b2637,_0x400acf);Object['defineProperty'](_0x5e0034,_0x400acf,_0x3f067a['get']?_0x3f067a:{'enumerable':!![],'get':function(){return _0x5b2637[_0x400acf];}});}}),_0x5e0034['default']=_0x5b2637,_0x5e0034;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x10d1bc(0xb3)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x10d1bc(0x7c)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x277895,_0xe3065,_0x5a40c8,_0x1427ea){const _0x432e43={_0x1810cc:0x70,_0x15d3f1:0xd6,_0x31383a:0x6e,_0x5889c3:0x6e},_0x1e053d=_0x10d1bc;super(_0x277895,_0xe3065,_0x5a40c8);if(!BaseLayer$1)return;this[_0x1e053d(_0x432e43._0x1810cc)]=_0x277895,this[_0x1e053d(0x79)]=_0x277895[_0x1e053d(0x79)],this[_0x1e053d(_0x432e43._0x15d3f1)]=_0xe3065,_0x5a40c8=_0x5a40c8||{},this[_0x1e053d(0x9d)](_0x5a40c8),this['argCheck'](_0x5a40c8),this['initDevicePixelRatio'](),this['canvasLayer']=_0x1427ea,this['stopAniamation']=!0x1,this[_0x1e053d(_0x432e43._0x31383a)]=_0x5a40c8[_0x1e053d(_0x432e43._0x5889c3)];}['initDevicePixelRatio'](){const _0x598e72=_0x10d1bc;this[_0x598e72(0xc2)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x10d1bc(0xd7)](){const _0x1a1a3f={_0x1e317f:0xae,_0x8cbc35:0xbe,_0x1ccead:0x83},_0x3e65c7=_0x10d1bc,_0x1f3126=this[_0x3e65c7(_0x1a1a3f._0x1e317f)]['animation'];this[_0x3e65c7(_0x1a1a3f._0x8cbc35)]()&&this['animator']&&(this[_0x3e65c7(_0x1a1a3f._0x1ccead)]['step']=_0x1f3126['stepsRange']['start']);}['animatorMoveendEvent'](){const _0x38d713=_0x10d1bc;this['isEnabledTime']()&&this[_0x38d713(0x73)];}['getContext'](){const _0x490f90={_0x2eb912:0xb7},_0x1cd4f5=_0x10d1bc;return this['canvasLayer']['canvas']['getContext'](this[_0x1cd4f5(_0x490f90._0x2eb912)]);}['init'](_0x1ae0f0){const _0x7b7ee8={_0x541aa1:0xae},_0x2f5f5e=_0x10d1bc;this['options']=_0x1ae0f0,this[_0x2f5f5e(0xcb)](_0x1ae0f0),this['context']=this['options']['context']||'2d',Cesium$1[_0x2f5f5e(0xa1)](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this[_0x2f5f5e(_0x7b7ee8._0x541aa1)]['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x442942){const _0x13608f={_0x2ab17f:0xbf,_0x3bd5d9:0x9a,_0x158a34:0x81,_0x5e891e:0xa8},_0x1e7a4c={_0x3efa92:0x87},_0x36b42c={_0x5afcd8:0x81,_0x1afa91:0xb9},_0x3e42e3=_0x10d1bc,_0x481636=this['scene'];if(this[_0x3e42e3(0x80)]&&!this['stopAniamation']){const _0x34bd68=this['options']['animation'],_0x1cb584=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x442942)return void this[_0x3e42e3(0xca)](_0x1cb584);this['context']==='2d'&&(_0x1cb584[_0x3e42e3(_0x13608f._0x2ab17f)](),_0x1cb584['globalCompositeOperation']='destination-out',_0x1cb584['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x1cb584['fillRect'](0x0,0x0,_0x1cb584['canvas']['width'],_0x1cb584['canvas']['height']),_0x1cb584['restore']());}else this[_0x3e42e3(0xca)](_0x1cb584);if(this['context']==='2d')for(const _0x48e625 in this['options']){_0x1cb584[_0x48e625]=this[_0x3e42e3(0xae)][_0x48e625];}else _0x1cb584['clear'](_0x1cb584['COLOR_BUFFER_BIT']);const _0x51385c={'transferCoordinate':function(_0x4a7833){const _0x18f70a=_0x3e42e3,_0x94ac5a=null;let _0x1bca8e=_0x481636['mapvFixedHeight'];_0x481636['mapvAutoHeight']&&(_0x1bca8e=_0x481636['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x4a7833[0x0],_0x4a7833[0x1])));const _0x2b2e08=Cesium$1['Cartesian3']['fromDegrees'](_0x4a7833[0x0],_0x4a7833[0x1],_0x1bca8e);if(!_0x2b2e08)return _0x94ac5a;const _0x19d570=_0x481636[_0x18f70a(_0x36b42c._0x5afcd8)](_0x2b2e08);if(!_0x19d570)return _0x94ac5a;if(_0x481636['mapvDepthTest']&&_0x481636['mode']===Cesium$1['SceneMode'][_0x18f70a(_0x36b42c._0x1afa91)]){const _0xc21f5b=new Cesium$1['EllipsoidalOccluder'](_0x481636['globe'][_0x18f70a(0xa7)],_0x481636['camera']['positionWC']),_0x1e9738=_0xc21f5b['isPointVisible'](_0x2b2e08);if(!_0x1e9738)return _0x94ac5a;}return[_0x19d570['x'],_0x19d570['y']];}};void 0x0!==_0x442942&&(_0x51385c['filter']=function(_0x683647){const _0x3db06e=_0x3e42e3,_0x19feb0=_0x34bd68['trails']||0xa;return!!(_0x442942&&_0x683647['time']>_0x442942-_0x19feb0&&_0x683647[_0x3db06e(_0x1e7a4c._0x3efa92)]<_0x442942);});const _0x259880=this[_0x3e42e3(0xd6)][_0x3e42e3(_0x13608f._0x3bd5d9)](_0x51385c);this['processData'](_0x259880),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0xd4e78b=_0x481636[_0x3e42e3(_0x13608f._0x158a34)](Cesium$1[_0x3e42e3(_0x13608f._0x5e891e)]['fromDegrees'](0x0,0x0));if(!_0xd4e78b)return;this['drawContext'](_0x1cb584,new mapv__namespace['DataSet'](_0x259880),this[_0x3e42e3(0xae)],_0xd4e78b),this['options']['updateCallback']&&this['options']['updateCallback'](_0x442942);}}[_0x10d1bc(0xd3)](_0x4c88a6,_0x2f38af){const _0x3889b7=_0x10d1bc;let _0x1234b5=_0x4c88a6;_0x1234b5&&_0x1234b5['get']&&(_0x1234b5=_0x1234b5['get']()),void 0x0!==_0x1234b5&&this['dataSet']['set'](_0x1234b5),super[_0x3889b7(0x7b)]({'options':_0x2f38af});}['addData'](_0xf05931,_0x64e549){const _0x5f0733={_0x4be50a:0xd4},_0x3d61c3=_0x10d1bc;let _0x4d241f=_0xf05931;_0xf05931&&_0xf05931['get']&&(_0x4d241f=_0xf05931[_0x3d61c3(0x9a)]()),this['dataSet'][_0x3d61c3(_0x5f0733._0x4be50a)](_0x4d241f),this['update']({'options':_0x64e549});}[_0x10d1bc(0x76)](){const _0x44344d={_0x27734d:0xd6},_0x2e2154=_0x10d1bc;return this[_0x2e2154(_0x44344d._0x27734d)];}['removeData'](_0x1032d8){const _0x2a3fcd=_0x10d1bc;if(this[_0x2a3fcd(0xd6)]){const _0x48c194=this[_0x2a3fcd(0xd6)][_0x2a3fcd(0x9a)]({'filter':function(_0x42f06d){return _0x1032d8==null||typeof _0x1032d8!=='function'||!_0x1032d8(_0x42f06d);}});this['dataSet']['set'](_0x48c194),this['update']({'options':null});}}['clearData'](){const _0x24bcaf=_0x10d1bc;this[_0x24bcaf(0xd6)]&&this[_0x24bcaf(0xd6)]['clear'](),this['update']({'options':null});}['draw'](){const _0x49568b={_0x4c4cae:0x80},_0x29b34f=_0x10d1bc;this[_0x29b34f(_0x49568b._0x4c4cae)][_0x29b34f(0x96)]();}['clear'](_0x40b6e7){const _0x4481ef=_0x10d1bc;_0x40b6e7&&_0x40b6e7[_0x4481ef(0x94)]&&_0x40b6e7['clearRect'](0x0,0x0,_0x40b6e7['canvas'][_0x4481ef(0x7e)],_0x40b6e7['canvas']['height']);}['destroy'](){const _0x2178ac=_0x10d1bc;this['clear'](this['getContext']()),this[_0x2178ac(0x86)](),this['animator']&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x10d1bc(0xa0)])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x4fb0d8,_0x4e8640,_0x563a8c,_0x5195b6){const _0x471297={_0x51dbf7:0xd5,_0x49bdc3:0x8a},_0x5cf173=_0x10d1bc;_0x5195b6=_0x5195b6||_0x5cf173(_0x471297._0x51dbf7),_0x563a8c=_0x563a8c||'coordinates';for(let _0x38f9f7=0x0;_0x38f9f7<_0x4fb0d8['length'];_0x38f9f7++){const _0x2b27b9=_0x4fb0d8[_0x38f9f7]['geometry'],_0x29e2a0=_0x2b27b9[_0x563a8c];switch(_0x2b27b9['type']){case'Point':{const _0x4db162=_0x4e8640(_0x29e2a0);_0x4db162?_0x2b27b9[_0x5195b6]=_0x4db162:_0x2b27b9[_0x5195b6]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x31fa57=[];for(let _0x104c62=0x0;_0x104c62<_0x29e2a0['length'];_0x104c62++){const _0x166f69=_0x4e8640(_0x29e2a0[_0x104c62]);_0x166f69&&_0x31fa57['push'](_0x166f69);}_0x2b27b9[_0x5195b6]=_0x31fa57;}break;case'MultiLineString':case _0x5cf173(0xc9):{const _0x93c199=_0x267039(_0x29e2a0);_0x2b27b9[_0x5195b6]=_0x93c199;}break;case _0x5cf173(_0x471297._0x49bdc3):{const _0x17e63b=[];for(let _0xc06cbc=0x0;_0xc06cbc<_0x29e2a0['length'];_0xc06cbc++){const _0x2b3bef=_0x267039(_0x29e2a0[_0xc06cbc]);_0x2b3bef['length']>0x0&&_0x17e63b['push'](_0x2b3bef);}_0x2b27b9[_0x5195b6]=_0x17e63b;}break;}}function _0x267039(_0x3b9ffe){const _0x571a1c=_0x5cf173,_0x29cbf0=[];for(let _0x2d1ff7=0x0;_0x2d1ff7<_0x3b9ffe['length'];_0x2d1ff7++){const _0x32ac11=_0x3b9ffe[_0x2d1ff7],_0x552188=[];for(let _0xfc8049=0x0;_0xfc8049<_0x32ac11['length'];_0xfc8049++){const _0x4f1d70=_0x4e8640(_0x32ac11[_0xfc8049]);_0x4f1d70&&_0x552188[_0x571a1c(0x89)](_0x4f1d70);}_0x552188[_0x571a1c(0x8b)]>0x0&&_0x29cbf0['push'](_0x552188);}return _0x29cbf0;}return _0x4fb0d8;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x10d1bc(0xb3)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x5b4b3c,_0x1812f3){const _0x1da4e2={_0x6df1e1:0xb6},_0x28074b=_0x10d1bc;super(_0x5b4b3c),this['_pointerEvents']=this['options'][_0x28074b(_0x1da4e2._0x6df1e1)],this['dataSet']=_0x1812f3||new mapv__namespace['DataSet'](_0x5b4b3c['data']),this['canvas']=null;}get[_0x10d1bc(0xb6)](){return this['_pointerEvents'];}set['pointerEvents'](_0x2d5a5c){const _0x1cd0da={_0x52d0d8:0xb0,_0x21df47:0xbd},_0xf82309=_0x10d1bc;this['_pointerEvents']=_0x2d5a5c,this[_0xf82309(_0x1cd0da._0x52d0d8)]&&(_0x2d5a5c?this[_0xf82309(_0x1cd0da._0x52d0d8)]['style']['pointerEvents']=_0xf82309(_0x1cd0da._0x21df47):this['canvas']['style']['pointerEvents']='none');}['_showHook'](_0x54c667){const _0x5dd6d1={_0x34fce4:0xc4},_0x5d28a2=_0x10d1bc;_0x54c667?this['canvas'][_0x5d28a2(_0x5dd6d1._0x34fce4)]['display']='block':this['canvas'][_0x5d28a2(0xc4)][_0x5d28a2(0xc6)]='none';}['_mountedHook'](){const _0x404184={_0x16e374:0xae,_0x469673:0xce},_0x491c72=_0x10d1bc;this['_map'][_0x491c72(0x79)]['mapvDepthTest']=this['options']['depthTest']??!![],this['_map'][_0x491c72(0x79)][_0x491c72(0x8c)]=this['options']['clampToGround']??![],this[_0x491c72(0xb4)][_0x491c72(0x79)][_0x491c72(0xc5)]=this[_0x491c72(_0x404184._0x16e374)][_0x491c72(_0x404184._0x469673)]??0x0;}['_addedHook'](){const _0x3955b4={_0xa8fe29:0xda,_0x50851e:0xd6,_0x3cd117:0x8f,_0xd24935:0xb0,_0x322723:0xd0},_0x30eb3a=_0x10d1bc;this['dataSet']&&(!this['dataSet'][_0x30eb3a(_0x3955b4._0xa8fe29)]||this[_0x30eb3a(_0x3955b4._0x50851e)]['_data']['length']===0x0)&&(this['dataSet'][_0x30eb3a(_0x3955b4._0xa8fe29)]=[]['concat'](this[_0x30eb3a(0xd6)]['_dataCache'])),this[_0x30eb3a(_0x3955b4._0x3cd117)]=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this[_0x30eb3a(_0x3955b4._0xd24935)]=this['_createCanvas'](),this['render']=this[_0x30eb3a(_0x3955b4._0x322723)]['bind'](this),this['bindEvent'](),this['_reset']();}[_0x10d1bc(0xc0)](){const _0x32a832=_0x10d1bc;this['unbindEvent'](),this[_0x32a832(0x8f)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x32a832(0xac)](this[_0x32a832(0xb0)]);}[_0x10d1bc(0x98)](){const _0x29eb9d={_0x40733d:0xc2},_0xc6f891=_0x10d1bc;this[_0xc6f891(_0x29eb9d._0x40733d)]=window['devicePixelRatio']||0x1;}[_0x10d1bc(0xd9)](){const _0x19da98={_0x40f725:0x82,_0x36084f:0xa6},_0x590a35=_0x10d1bc;var _0x57b8db,_0x41d1db;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x590a35(0x95)],this),this[_0x590a35(0xb4)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x57b8db=this['options'])!==null&&_0x57b8db!==void 0x0&&(_0x57b8db=_0x57b8db[_0x590a35(_0x19da98._0x40f725)])!==null&&_0x57b8db!==void 0x0&&_0x57b8db['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x41d1db=this['options'])!==null&&_0x41d1db!==void 0x0&&(_0x41d1db=_0x41d1db['methods'])!==null&&_0x41d1db!==void 0x0&&_0x41d1db['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x590a35(_0x19da98._0x36084f)],this[_0x590a35(0xa4)],this);}[_0x10d1bc(0x74)](){const _0x446e10={_0x536ae8:0xb2,_0x1062d8:0x6f,_0x144a09:0x9e,_0x25bfd5:0x95,_0x561146:0xb4,_0x308854:0x77,_0x4e4157:0xae,_0x41398c:0xb8},_0x401290=_0x10d1bc;var _0x3fb9b0,_0x54d3e2;this['_map']['off'](mars3d__namespace[_0x401290(_0x446e10._0x536ae8)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map'][_0x401290(_0x446e10._0x1062d8)](mars3d__namespace['EventType'][_0x401290(_0x446e10._0x144a09)],this[_0x401290(_0x446e10._0x25bfd5)],this),this[_0x401290(_0x446e10._0x561146)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x401290(0xa2)],this),this[_0x401290(0xb4)]['off'](mars3d__namespace[_0x401290(0xb2)]['postRender'],this['_reset'],this),(_0x3fb9b0=this['options'])!==null&&_0x3fb9b0!==void 0x0&&(_0x3fb9b0=_0x3fb9b0[_0x401290(0x82)])!==null&&_0x3fb9b0!==void 0x0&&_0x3fb9b0['click']&&this['_map']['off'](mars3d__namespace[_0x401290(_0x446e10._0x536ae8)][_0x401290(0xbb)],this[_0x401290(_0x446e10._0x308854)],this),(_0x54d3e2=this[_0x401290(_0x446e10._0x4e4157)])!==null&&_0x54d3e2!==void 0x0&&(_0x54d3e2=_0x54d3e2['methods'])!==null&&_0x54d3e2!==void 0x0&&_0x54d3e2[_0x401290(_0x446e10._0x41398c)]&&this['_map']['off'](mars3d__namespace['EventType'][_0x401290(0xa6)],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x59fa81={_0x312641:0xb4,_0x331874:0xb2},_0x5d9c58=_0x10d1bc;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x5d9c58(_0x59fa81._0x312641)][_0x5d9c58(0x6f)](mars3d__namespace['EventType'][_0x5d9c58(0xba)],this['_reset'],this),this[_0x5d9c58(_0x59fa81._0x312641)]['on'](mars3d__namespace[_0x5d9c58(_0x59fa81._0x331874)]['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x8eaa80={_0x15cbab:0xb2,_0x19e1c0:0x8f,_0x24e9b7:0x85},_0x437550=_0x10d1bc;this[_0x437550(0x8f)]&&(this['_map']['off'](mars3d__namespace[_0x437550(_0x8eaa80._0x15cbab)]['postRender'],this['_reset'],this),this[_0x437550(_0x8eaa80._0x19e1c0)][_0x437550(_0x8eaa80._0x24e9b7)](),this['_reset']());}['_setOptionsHook'](_0x62cb3d,_0x378a48){this['_removedHook'](),this['_addedHook']();}['addData'](_0x219608){const _0x56202a=_0x10d1bc;this['_mapVRenderer']&&this[_0x56202a(0x8f)]['addData'](_0x219608,this['options']);}['updateData'](_0xa1f562){const _0x99d231=_0x10d1bc;this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0xa1f562,this[_0x99d231(0xae)]);}['getData'](){const _0x33fc22=_0x10d1bc;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this[_0x33fc22(0xd6)];}['removeData'](_0x57d6f3){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x57d6f3);}[_0x10d1bc(0x84)](){const _0x344a64=_0x10d1bc;this['_mapVRenderer']&&this['_mapVRenderer'][_0x344a64(0x86)]();}['_createCanvas'](){const _0x5d7a39={_0x49487c:0xcf,_0x22315e:0xab,_0xd2f945:0xa9,_0x15a5bb:0xb4,_0x122f5b:0xc4,_0x4da9d2:0xb6,_0x29248b:0xae,_0x337bc3:0xc2},_0x5a0b44=_0x10d1bc,_0x1d41aa=mars3d__namespace['DomUtil']['create']('canvas',_0x5a0b44(_0x5d7a39._0x49487c),this['_map'][_0x5a0b44(_0x5d7a39._0x22315e)]);_0x1d41aa['id']=this['id'],_0x1d41aa['style']['position']='absolute',_0x1d41aa[_0x5a0b44(0xc4)]['top']=_0x5a0b44(0x8d),_0x1d41aa['style'][_0x5a0b44(_0x5d7a39._0xd2f945)]=_0x5a0b44(0x8d),_0x1d41aa['width']=parseInt(this[_0x5a0b44(_0x5d7a39._0x15a5bb)]['canvas']['width']),_0x1d41aa['height']=parseInt(this['_map']['canvas'][_0x5a0b44(0x97)]),_0x1d41aa['style']['width']=this['_map']['canvas']['style']['width'],_0x1d41aa[_0x5a0b44(_0x5d7a39._0x122f5b)][_0x5a0b44(0x97)]=this['_map']['canvas']['style'][_0x5a0b44(0x97)],_0x1d41aa[_0x5a0b44(_0x5d7a39._0x122f5b)][_0x5a0b44(_0x5d7a39._0x4da9d2)]=this['_pointerEvents']?_0x5a0b44(0x9c):_0x5a0b44(0x7f),_0x1d41aa['style']['zIndex']=this[_0x5a0b44(_0x5d7a39._0x29248b)][_0x5a0b44(0x9b)]??0x9;if(this[_0x5a0b44(_0x5d7a39._0x29248b)]['context']==='2d'){const _0xb92d5d=this[_0x5a0b44(_0x5d7a39._0x337bc3)];_0x1d41aa['getContext'](this['options'][_0x5a0b44(0xb7)])['scale'](_0xb92d5d,_0xb92d5d);}return _0x1d41aa;}['_reset'](){this['resize'](),this['render']();}['draw'](){const _0x2f1f7e={_0x11c5bf:0x8e},_0x5df322=_0x10d1bc;this[_0x5df322(_0x2f1f7e._0x11c5bf)]();}['remove'](){const _0x302128={_0x12d5c8:0x92},_0x355ec7=_0x10d1bc;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x355ec7(_0x302128._0x12d5c8)]['removeChild'](this['canvas']);}['render'](){const _0x3447a3={_0x4c7bf2:0x8f,_0x3f125a:0xd8},_0x1a1000=_0x10d1bc;this[_0x1a1000(_0x3447a3._0x4c7bf2)][_0x1a1000(_0x3447a3._0x3f125a)]();}[_0x10d1bc(0x93)](){const _0xdbf0b7={_0x1a21bd:0xb0,_0x1dd387:0xa9,_0x357e43:0x7e,_0x1792de:0xb4,_0x4cfcae:0x97,_0x2c9590:0xb0,_0x1660a2:0xc4,_0x53db97:0x97},_0x142d51=_0x10d1bc;if(this['canvas']){const _0x3d672a=this[_0x142d51(_0xdbf0b7._0x1a21bd)];_0x3d672a['style']['position']='absolute',_0x3d672a[_0x142d51(0xc4)]['top']='0px',_0x3d672a['style'][_0x142d51(_0xdbf0b7._0x1dd387)]='0px',_0x3d672a[_0x142d51(_0xdbf0b7._0x357e43)]=parseInt(this[_0x142d51(_0xdbf0b7._0x1792de)]['canvas']['width']),_0x3d672a['height']=parseInt(this[_0x142d51(0xb4)]['canvas'][_0x142d51(_0xdbf0b7._0x4cfcae)]),_0x3d672a['style']['width']=this['_map'][_0x142d51(_0xdbf0b7._0x2c9590)]['style']['width'],_0x3d672a[_0x142d51(_0xdbf0b7._0x1660a2)]['height']=this[_0x142d51(_0xdbf0b7._0x1792de)][_0x142d51(_0xdbf0b7._0x2c9590)]['style'][_0x142d51(_0xdbf0b7._0x53db97)];}}['getRectangle'](_0x5e7cde){const _0x2c3586={_0x460557:0xd6,_0xd92daa:0x99,_0x378cbf:0xcc},_0xb623c=_0x10d1bc;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x2b4818=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0xb623c(_0x2c3586._0x460557)]['_data']});if(!_0x2b4818)return;return _0x5e7cde!==null&&_0x5e7cde!==void 0x0&&_0x5e7cde['isFormat']?_0x2b4818:Cesium[_0xb623c(_0x2c3586._0xd92daa)][_0xb623c(0xc1)](_0x2b4818['xmin'],_0x2b4818['ymin'],_0x2b4818[_0xb623c(_0x2c3586._0x378cbf)],_0x2b4818['ymax']);}['_onMapClick'](_0x492c09){const _0x17c5a1=_0x10d1bc;this['_cache_event']=_0x492c09,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x492c09[_0x17c5a1(0xcd)],_0x492c09);}['_onMapMouseMove'](_0x4eb79b){const _0x531a6d={_0x27d7be:0x8f,_0x1d5fdb:0x8f},_0x3d9a9d=_0x10d1bc;this['_cache_event']=_0x4eb79b,this[_0x3d9a9d(_0x531a6d._0x27d7be)]&&this[_0x3d9a9d(_0x531a6d._0x1d5fdb)][_0x3d9a9d(0x9f)](_0x4eb79b['windowPosition'],_0x4eb79b);}['on'](_0xcaab9f,_0x3ef98a,_0x3511e1){const _0x2d9797={_0x337331:0x82,_0x2dad57:0x77,_0x1c30c8:0xb2},_0x276424={_0x1d2553:0xaf,_0x27ec4d:0x7a},_0x3ae733={_0x574e97:0x7a},_0x5bb146=_0x10d1bc;this['options'][_0x5bb146(_0x2d9797._0x337331)]=this['options'][_0x5bb146(0x82)]||{};if(_0xcaab9f===mars3d__namespace['EventType']['click'])this['options']['methods']['click']=_0x480b05=>{const _0x5313fc=_0x5bb146;_0x480b05&&_0x3ef98a[_0x5313fc(0xaf)](_0x3511e1)({...this[_0x5313fc(_0x3ae733._0x574e97)],'layer':this,'data':_0x480b05});},this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0x5bb146(_0x2d9797._0x2dad57)],this);else _0xcaab9f===mars3d__namespace[_0x5bb146(_0x2d9797._0x1c30c8)]['mouseMove']&&(this['options'][_0x5bb146(0x82)]['mousemove']=_0x32b193=>{const _0x1cd21f=_0x5bb146;_0x32b193&&_0x3ef98a[_0x1cd21f(_0x276424._0x1d2553)](_0x3511e1)({...this[_0x1cd21f(_0x276424._0x27ec4d)],'layer':this,'data':_0x32b193});},this[_0x5bb146(0xb4)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x110852,_0x5c4846){const _0xbb19eb={_0x4916a6:0x82,_0x588db9:0xae},_0x493cfa=_0x10d1bc;if(_0x110852==='click'){var _0x2505ee;this['_map']['off'](_0x110852,this[_0x493cfa(0x77)],this),(_0x2505ee=this['options']['methods'])!==null&&_0x2505ee!==void 0x0&&_0x2505ee['mousemove']&&delete this['options'][_0x493cfa(_0xbb19eb._0x4916a6)]['click'];}else{if(_0x110852==='mouseMove'){var _0x5476b6;this['_map']['off'](_0x110852,this[_0x493cfa(0xa4)],this),(_0x5476b6=this['options'][_0x493cfa(_0xbb19eb._0x4916a6)])!==null&&_0x5476b6!==void 0x0&&_0x5476b6['mousemove']&&delete this[_0x493cfa(_0xbb19eb._0x588db9)]['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x10d1bc(0xc3)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x10d1bc(0xb5)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x57ff38){const _0x5beabe={_0x15e174:0x90},_0x41310b=_0x10d1bc;if(_0x57ff38!==_0x41310b(0xbc)&&!exports['hasOwnProperty'](_0x57ff38))Object[_0x41310b(_0x5beabe._0x15e174)](exports,_0x57ff38,{'enumerable':!![],'get':function(){return mapv[_0x57ff38];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
