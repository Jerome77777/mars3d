/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.9
 * 编译日期：2023-10-17 20:06:19
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x3c0c74=_0x56b6;(function(_0x7fd7ff,_0x4b0e25){const _0x9b35a1={_0x12738d:0xdb,_0x2c2c67:0xce,_0x2f8d9d:0xb9,_0x13add2:0xc0},_0x5116c5=_0x56b6,_0x5ab8f7=_0x7fd7ff();while(!![]){try{const _0x45500a=-parseInt(_0x5116c5(_0x9b35a1._0x12738d))/0x1*(-parseInt(_0x5116c5(0xf0))/0x2)+-parseInt(_0x5116c5(_0x9b35a1._0x2c2c67))/0x3+parseInt(_0x5116c5(0x100))/0x4*(-parseInt(_0x5116c5(0x108))/0x5)+-parseInt(_0x5116c5(_0x9b35a1._0x2f8d9d))/0x6+parseInt(_0x5116c5(0xc7))/0x7+-parseInt(_0x5116c5(0xe8))/0x8+parseInt(_0x5116c5(_0x9b35a1._0x13add2))/0x9;if(_0x45500a===_0x4b0e25)break;else _0x5ab8f7['push'](_0x5ab8f7['shift']());}catch(_0x13d0b5){_0x5ab8f7['push'](_0x5ab8f7['shift']());}}}(_0x41ae,0xcf04b));function _0x56b6(_0x21c0f5,_0x2bc973){const _0x41ae92=_0x41ae();return _0x56b6=function(_0x56b62e,_0x2b9405){_0x56b62e=_0x56b62e-0xb5;let _0x51bfcd=_0x41ae92[_0x56b62e];return _0x51bfcd;},_0x56b6(_0x21c0f5,_0x2bc973);}function _interopNamespace(_0x34c004){const _0x3ea929={_0x166e2f:0xdd},_0x1f82cb={_0x3691ce:0xf5},_0x433e3c=_0x56b6;if(_0x34c004&&_0x34c004['__esModule'])return _0x34c004;var _0x14eac1=Object[_0x433e3c(_0x3ea929._0x166e2f)](null);return _0x34c004&&Object['keys'](_0x34c004)[_0x433e3c(0x105)](function(_0x212165){const _0x16875b=_0x433e3c;if(_0x212165!==_0x16875b(0xd0)){var _0x36b1d9=Object['getOwnPropertyDescriptor'](_0x34c004,_0x212165);Object['defineProperty'](_0x14eac1,_0x212165,_0x36b1d9[_0x16875b(_0x1f82cb._0x3691ce)]?_0x36b1d9:{'enumerable':!![],'get':function(){return _0x34c004[_0x212165];}});}}),_0x14eac1['default']=_0x34c004,_0x14eac1;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x3c0c74(0xe3)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x5c0138,_0x17de0b,_0x2eb5ef,_0x1a0f9e){const _0x3f9f52={_0xa8f4bb:0xf2,_0x23dcea:0xe9,_0x316bb6:0xe6},_0x669a7f=_0x3c0c74;super(_0x5c0138,_0x17de0b,_0x2eb5ef);if(!BaseLayer$1)return;this['map']=_0x5c0138,this['scene']=_0x5c0138[_0x669a7f(_0x3f9f52._0xa8f4bb)],this[_0x669a7f(_0x3f9f52._0x23dcea)]=_0x17de0b,_0x2eb5ef=_0x2eb5ef||{},this['init'](_0x2eb5ef),this['argCheck'](_0x2eb5ef),this[_0x669a7f(0xf7)](),this[_0x669a7f(0xf9)]=_0x1a0f9e,this['stopAniamation']=!0x1,this['animation']=_0x2eb5ef[_0x669a7f(_0x3f9f52._0x316bb6)];}[_0x3c0c74(0xf7)](){const _0xd1656f=_0x3c0c74;this['devicePixelRatio']=window[_0xd1656f(0xeb)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x384476={_0x1429e3:0x10f},_0x222a01=_0x3c0c74,_0x5c9b37=this[_0x222a01(_0x384476._0x1429e3)]['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x5c9b37['stepsRange']['start']);}[_0x3c0c74(0x112)](){this['isEnabledTime']()&&this['animator'];}[_0x3c0c74(0xfd)](){const _0x242641=_0x3c0c74;return this['canvasLayer']['canvas'][_0x242641(0xfd)](this['context']);}[_0x3c0c74(0xff)](_0x4d2b7d){const _0x5a95c3={_0xa4144f:0x110,_0xbb8cbb:0xf8},_0x578627=_0x3c0c74;this[_0x578627(0x10f)]=_0x4d2b7d,this['initDataRange'](_0x4d2b7d),this['context']=this['options']['context']||'2d',Cesium$1[_0x578627(_0x5a95c3._0xa4144f)](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer'][_0x578627(0xf8)]&&this['canvasLayer'][_0x578627(_0x5a95c3._0xbb8cbb)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x4468e0){const _0x58102d={_0x8f5372:0xfc,_0x20719d:0x102,_0x1ca798:0x10f,_0x3a141a:0xca,_0x4089ae:0x10f,_0x3ebe27:0xfe},_0x2a1ee1={_0x53e791:0xed,_0xaff4d3:0xd4,_0x3be2b9:0xba},_0x331f8b=_0x3c0c74,_0x16f4c7=this['scene'];if(this['canvasLayer']&&!this[_0x331f8b(_0x58102d._0x8f5372)]){const _0x3fed7b=this['options']['animation'],_0x224420=this['getContext']();if(this[_0x331f8b(0xd6)]()){if(void 0x0===_0x4468e0)return void this['clear'](_0x224420);this['context']==='2d'&&(_0x224420[_0x331f8b(0xd7)](),_0x224420['globalCompositeOperation']=_0x331f8b(_0x58102d._0x20719d),_0x224420['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x224420['fillRect'](0x0,0x0,_0x224420['canvas']['width'],_0x224420[_0x331f8b(0xe4)]['height']),_0x224420['restore']());}else this['clear'](_0x224420);if(this['context']==='2d')for(const _0x402d34 in this[_0x331f8b(_0x58102d._0x1ca798)]){_0x224420[_0x402d34]=this[_0x331f8b(0x10f)][_0x402d34];}else _0x224420[_0x331f8b(0xe0)](_0x224420['COLOR_BUFFER_BIT']);const _0x589278={'transferCoordinate':function(_0x233f8d){const _0xb09043=_0x331f8b,_0x486251=null;let _0x19d324=_0x16f4c7['mapvFixedHeight'];_0x16f4c7['mapvAutoHeight']&&(_0x19d324=_0x16f4c7['globe'][_0xb09043(0xb8)](Cesium$1['Cartographic'][_0xb09043(0xf3)](_0x233f8d[0x0],_0x233f8d[0x1])));const _0x2bf94b=Cesium$1['Cartesian3']['fromDegrees'](_0x233f8d[0x0],_0x233f8d[0x1],_0x19d324);if(!_0x2bf94b)return _0x486251;const _0x3004b4=_0x16f4c7['cartesianToCanvasCoordinates'](_0x2bf94b);if(!_0x3004b4)return _0x486251;if(_0x16f4c7['mapvDepthTest']&&_0x16f4c7[_0xb09043(_0x2a1ee1._0x53e791)]===Cesium$1['SceneMode']['SCENE3D']){const _0xeb670=new Cesium$1['EllipsoidalOccluder'](_0x16f4c7[_0xb09043(_0x2a1ee1._0xaff4d3)][_0xb09043(_0x2a1ee1._0x3be2b9)],_0x16f4c7[_0xb09043(0xda)][_0xb09043(0x101)]),_0x5a11a9=_0xeb670['isPointVisible'](_0x2bf94b);if(!_0x5a11a9)return _0x486251;}return[_0x3004b4['x'],_0x3004b4['y']];}};void 0x0!==_0x4468e0&&(_0x589278[_0x331f8b(_0x58102d._0x3a141a)]=function(_0x503e8e){const _0x3899b8=_0x3fed7b['trails']||0xa;return!!(_0x4468e0&&_0x503e8e['time']>_0x4468e0-_0x3899b8&&_0x503e8e['time']<_0x4468e0);});const _0x21b8ca=this['dataSet']['get'](_0x589278);this['processData'](_0x21b8ca),this[_0x331f8b(_0x58102d._0x4089ae)]['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x2c0201=_0x16f4c7[_0x331f8b(0xf4)](Cesium$1[_0x331f8b(0xbd)][_0x331f8b(0xf3)](0x0,0x0));if(!_0x2c0201)return;this[_0x331f8b(_0x58102d._0x3ebe27)](_0x224420,new mapv__namespace['DataSet'](_0x21b8ca),this['options'],_0x2c0201),this['options']['updateCallback']&&this['options']['updateCallback'](_0x4468e0);}}['updateData'](_0x42560b,_0x14d2b1){const _0x29da23={_0x179a42:0xf5},_0x4f3692=_0x3c0c74;let _0xcd6896=_0x42560b;_0xcd6896&&_0xcd6896['get']&&(_0xcd6896=_0xcd6896[_0x4f3692(_0x29da23._0x179a42)]()),void 0x0!==_0xcd6896&&this['dataSet']['set'](_0xcd6896),super['update']({'options':_0x14d2b1});}['addData'](_0x137383,_0x14ee0c){const _0xc43092=_0x3c0c74;let _0x235d12=_0x137383;_0x137383&&_0x137383['get']&&(_0x235d12=_0x137383[_0xc43092(0xf5)]()),this['dataSet']['add'](_0x235d12),this[_0xc43092(0x106)]({'options':_0x14ee0c});}[_0x3c0c74(0xec)](){return this['dataSet'];}['removeData'](_0x373501){const _0x3f6d82={_0x41de8e:0xc5},_0x787dc7=_0x3c0c74;if(this['dataSet']){const _0x29843e=this['dataSet'][_0x787dc7(0xf5)]({'filter':function(_0x153167){const _0x1c1280=_0x787dc7;return _0x373501==null||typeof _0x373501!==_0x1c1280(_0x3f6d82._0x41de8e)||!_0x373501(_0x153167);}});this['dataSet'][_0x787dc7(0xc1)](_0x29843e),this['update']({'options':null});}}[_0x3c0c74(0xc6)](){const _0x387542=_0x3c0c74;this['dataSet']&&this['dataSet'][_0x387542(0xe0)](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}[_0x3c0c74(0xe0)](_0x14b85c){const _0x436a9c={_0x1fcf3b:0xe4,_0x46955c:0xd3},_0x52c7cf=_0x3c0c74;_0x14b85c&&_0x14b85c['clearRect']&&_0x14b85c['clearRect'](0x0,0x0,_0x14b85c[_0x52c7cf(_0x436a9c._0x1fcf3b)]['width'],_0x14b85c['canvas'][_0x52c7cf(_0x436a9c._0x46955c)]);}['destroy'](){const _0x9345bc={_0x1ecaa3:0xf9},_0x4f3e34=_0x3c0c74;this[_0x4f3e34(0xe0)](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this[_0x4f3e34(_0x9345bc._0x1ecaa3)]=null;}}function _0x41ae(){const _0x59d5d4=['clearData','1119930rHyHaM','mousemove','clampToGround','filter','_pointerEvents','_reset','cameraMoveStart','2764536PbYTpU','register','default','absolute','off','height','globe','EventType','isEnabledTime','save','all','zIndex','camera','13530zfTwsk','length','create','mapvAutoHeight','LineString','clear','draw','mapvDepthTest','Cesium','canvas','postRender','animation','_onMoveEndEvent','1684056PGFzbY','dataSet','_mapVRenderer','devicePixelRatio','getData','mode','methods','context','94SqiSDq','DataSet','scene','fromDegrees','cartesianToCanvasCoordinates','get','parentElement','initDevicePixelRatio','setZIndex','canvasLayer','_onMapMouseMove','width','stopAniamation','getContext','drawContext','init','88tFkZNw','positionWC','destination-out','_cache_event','unbindEvent','forEach','update','top','202865ooCKcF','ymin','left','removeData','push','bindEvent','Rectangle','options','defined','getExtentByGeoJSON','animatorMoveendEvent','_coordinates','_createCanvas','_setOptionsHook','getHeight','7451550HOXLQU','ellipsoid','_map','click','Cartesian3','render','pointerEvents','29867373zzeVMv','set','xmax','getRectangle','style','function'];_0x41ae=function(){return _0x59d5d4;};return _0x41ae();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x3c0c74(0xf1)]['prototype']['transferCoordinate']=function(_0xacfdb3,_0x399ad7,_0x1bd08b,_0x26d1e2){const _0x9f349e={_0x3b76b7:0xb5,_0x23b8f3:0xdf,_0x226be9:0xdc},_0x329ba4=_0x3c0c74;_0x26d1e2=_0x26d1e2||_0x329ba4(_0x9f349e._0x3b76b7),_0x1bd08b=_0x1bd08b||'coordinates';for(let _0x4a26d7=0x0;_0x4a26d7<_0xacfdb3['length'];_0x4a26d7++){const _0x2ed048=_0xacfdb3[_0x4a26d7]['geometry'],_0x1851de=_0x2ed048[_0x1bd08b];switch(_0x2ed048['type']){case'Point':{const _0x36f012=_0x399ad7(_0x1851de);_0x36f012?_0x2ed048[_0x26d1e2]=_0x36f012:_0x2ed048[_0x26d1e2]=[-0x3e7,-0x3e7];}break;case _0x329ba4(_0x9f349e._0x23b8f3):{const _0x2e477b=[];for(let _0x5cd68a=0x0;_0x5cd68a<_0x1851de['length'];_0x5cd68a++){const _0x98662a=_0x399ad7(_0x1851de[_0x5cd68a]);_0x98662a&&_0x2e477b[_0x329ba4(0x10c)](_0x98662a);}_0x2ed048[_0x26d1e2]=_0x2e477b;}break;case'MultiLineString':case'Polygon':{const _0xa2b792=_0x4f6bd5(_0x1851de);_0x2ed048[_0x26d1e2]=_0xa2b792;}break;case'MultiPolygon':{const _0x59389f=[];for(let _0x1c157f=0x0;_0x1c157f<_0x1851de[_0x329ba4(_0x9f349e._0x226be9)];_0x1c157f++){const _0x2c9530=_0x4f6bd5(_0x1851de[_0x1c157f]);_0x2c9530['length']>0x0&&_0x59389f['push'](_0x2c9530);}_0x2ed048[_0x26d1e2]=_0x59389f;}break;}}function _0x4f6bd5(_0x1370ea){const _0x1eb7b2=_0x329ba4,_0x41d090=[];for(let _0x1d3113=0x0;_0x1d3113<_0x1370ea[_0x1eb7b2(0xdc)];_0x1d3113++){const _0x4a18bf=_0x1370ea[_0x1d3113],_0x4a9926=[];for(let _0x15cdea=0x0;_0x15cdea<_0x4a18bf['length'];_0x15cdea++){const _0xbf1b93=_0x399ad7(_0x4a18bf[_0x15cdea]);_0xbf1b93&&_0x4a9926['push'](_0xbf1b93);}_0x4a9926['length']>0x0&&_0x41d090[_0x1eb7b2(0x10c)](_0x4a9926);}return _0x41d090;}return _0xacfdb3;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x13bd01,_0x46dab7){const _0x2a21b8={_0x4ba40e:0xbf},_0x17bb47=_0x3c0c74;super(_0x13bd01),this['_pointerEvents']=this['options'][_0x17bb47(_0x2a21b8._0x4ba40e)],this['dataSet']=_0x46dab7||new mapv__namespace[(_0x17bb47(0xf1))](_0x13bd01['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set[_0x3c0c74(0xbf)](_0x23f743){const _0x4cce73=_0x3c0c74;this['_pointerEvents']=_0x23f743,this[_0x4cce73(0xe4)]&&(_0x23f743?this['canvas']['style']['pointerEvents']=_0x4cce73(0xd8):this['canvas'][_0x4cce73(0xc4)]['pointerEvents']='none');}['_showHook'](_0x424eca){_0x424eca?this['canvas']['style']['display']='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0x678d97={_0x41f5a1:0xbb,_0x31d2a7:0xe2,_0x3590b7:0xde,_0x108273:0xc9,_0x265d7a:0x10f},_0x33b208=_0x3c0c74;this[_0x33b208(_0x678d97._0x41f5a1)][_0x33b208(0xf2)][_0x33b208(_0x678d97._0x31d2a7)]=this['options']['depthTest']??!![],this['_map'][_0x33b208(0xf2)][_0x33b208(_0x678d97._0x3590b7)]=this['options'][_0x33b208(_0x678d97._0x108273)]??![],this['_map']['scene']['mapvFixedHeight']=this[_0x33b208(_0x678d97._0x265d7a)]['fixedHeight']??0x0;}['_addedHook'](){const _0x2156b4={_0x1ecf1a:0xe9,_0x4ecb2b:0xe4},_0x2c1323=_0x3c0c74;this['dataSet']&&(!this[_0x2c1323(0xe9)]['_data']||this[_0x2c1323(0xe9)]['_data']['length']===0x0)&&(this[_0x2c1323(0xe9)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this[_0x2c1323(_0x2156b4._0x1ecf1a)],this['options'],this),this['initDevicePixelRatio'](),this[_0x2c1323(_0x2156b4._0x4ecb2b)]=this[_0x2c1323(0xb6)](),this[_0x2c1323(0xbe)]=this[_0x2c1323(0xbe)]['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x50ba27=_0x3c0c74;this['unbindEvent'](),this[_0x50ba27(0xea)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x3c0c74(0xf7)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x3c0c74(0x10d)](){const _0x215503={_0x77f3ff:0xee,_0x4cd292:0x10f},_0x4568ac=_0x3c0c74;var _0x200d2f,_0x3d32dc,_0x46f224,_0x53d966;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x4568ac(0xcd)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x4568ac(0xd5)]['cameraMoveEnd'],this[_0x4568ac(0xe7)],this),(_0x200d2f=this['options'])!==null&&_0x200d2f!==void 0x0&&(_0x3d32dc=_0x200d2f[_0x4568ac(_0x215503._0x77f3ff)])!==null&&_0x3d32dc!==void 0x0&&_0x3d32dc['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x46f224=this[_0x4568ac(_0x215503._0x4cd292)])!==null&&_0x46f224!==void 0x0&&(_0x53d966=_0x46f224['methods'])!==null&&_0x53d966!==void 0x0&&_0x53d966['mousemove']&&this['_map']['on'](mars3d__namespace[_0x4568ac(0xd5)]['mouseMove'],this['_onMapMouseMove'],this);}[_0x3c0c74(0x104)](){const _0x18778f={_0x379310:0xd2,_0x1cbdbd:0xbb,_0x4a35d5:0xd2},_0x31a548=_0x3c0c74;var _0x27ed9d,_0x30f565,_0x1a9e68,_0x54c7c5;this['_map'][_0x31a548(_0x18778f._0x379310)](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0x31a548(_0x18778f._0x1cbdbd)][_0x31a548(0xd2)](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x31a548(0xbb)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x31a548(0xbb)]['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x27ed9d=this['options'])!==null&&_0x27ed9d!==void 0x0&&(_0x30f565=_0x27ed9d['methods'])!==null&&_0x30f565!==void 0x0&&_0x30f565['click']&&this['_map'][_0x31a548(_0x18778f._0x4a35d5)](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x1a9e68=this['options'])!==null&&_0x1a9e68!==void 0x0&&(_0x54c7c5=_0x1a9e68['methods'])!==null&&_0x54c7c5!==void 0x0&&_0x54c7c5[_0x31a548(0xc8)]&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0xfbf879={_0x2395e0:0xe5},_0x4e6f18=_0x3c0c74;this[_0x4e6f18(0xea)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType'][_0x4e6f18(_0xfbf879._0x2395e0)],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x4e6f18(_0xfbf879._0x2395e0)],this['_reset'],this));}['_onMoveEndEvent'](){this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}[_0x3c0c74(0xb7)](_0x1bb436,_0x44aa12){this['_removedHook'](),this['_addedHook']();}['addData'](_0x187eb9){const _0x1fdf38=_0x3c0c74;this['_mapVRenderer']&&this[_0x1fdf38(0xea)]['addData'](_0x187eb9,this['options']);}['updateData'](_0x28f951){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x28f951,this['options']);}['getData'](){const _0x4821e6={_0x55d3a4:0xea},_0x5a9565=_0x3c0c74;return this[_0x5a9565(_0x4821e6._0x55d3a4)]&&(this['dataSet']=this[_0x5a9565(0xea)]['getData']()),this[_0x5a9565(0xe9)];}['removeData'](_0x66b50e){const _0x725e0=_0x3c0c74;this['_mapVRenderer']&&this['_mapVRenderer'][_0x725e0(0x10b)](_0x66b50e);}['removeAllData'](){const _0x25dc0d={_0x1f19e7:0xc6},_0x27ad42=_0x3c0c74;this['_mapVRenderer']&&this['_mapVRenderer'][_0x27ad42(_0x25dc0d._0x1f19e7)]();}['_createCanvas'](){const _0x21182f={_0x445c5a:0xc4,_0x22a710:0xfb,_0x3b27ce:0xe4,_0x137fc5:0xc4,_0x49eabd:0xc4,_0x5e81d3:0xd9},_0x3143c5=_0x3c0c74,_0x29ecbe=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x29ecbe['id']=this['id'],_0x29ecbe[_0x3143c5(_0x21182f._0x445c5a)]['position']=_0x3143c5(0xd1),_0x29ecbe[_0x3143c5(0xc4)]['top']='0px',_0x29ecbe['style'][_0x3143c5(0x10a)]='0px',_0x29ecbe[_0x3143c5(0xfb)]=parseInt(this['_map']['canvas'][_0x3143c5(_0x21182f._0x22a710)]),_0x29ecbe['height']=parseInt(this['_map']['canvas'][_0x3143c5(0xd3)]),_0x29ecbe['style']['width']=this['_map'][_0x3143c5(_0x21182f._0x3b27ce)][_0x3143c5(_0x21182f._0x137fc5)][_0x3143c5(_0x21182f._0x22a710)],_0x29ecbe['style']['height']=this['_map']['canvas'][_0x3143c5(_0x21182f._0x49eabd)]['height'],_0x29ecbe[_0x3143c5(0xc4)]['pointerEvents']=this[_0x3143c5(0xcb)]?'auto':'none',_0x29ecbe[_0x3143c5(0xc4)][_0x3143c5(_0x21182f._0x5e81d3)]=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x48ef64=this[_0x3143c5(0xeb)];_0x29ecbe['getContext'](this['options'][_0x3143c5(0xef)])['scale'](_0x48ef64,_0x48ef64);}return _0x29ecbe;}[_0x3c0c74(0xcc)](){this['resize'](),this['render']();}[_0x3c0c74(0xe1)](){this['_reset']();}['remove'](){const _0x3d2dc5=_0x3c0c74;this[_0x3d2dc5(0xea)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x3d2dc5(0xf6)]['removeChild'](this[_0x3d2dc5(0xe4)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x1faf46={_0x8b57bd:0x10a,_0xd8b04f:0xe4,_0x637bdc:0xc4,_0x52ff19:0xbb,_0x42f801:0xfb,_0x2745ab:0xc4,_0x3084da:0xd3},_0x1c0832=_0x3c0c74;if(this[_0x1c0832(0xe4)]){const _0xb1601a=this['canvas'];_0xb1601a['style']['position']=_0x1c0832(0xd1),_0xb1601a['style'][_0x1c0832(0x107)]='0px',_0xb1601a['style'][_0x1c0832(_0x1faf46._0x8b57bd)]='0px',_0xb1601a['width']=parseInt(this['_map'][_0x1c0832(_0x1faf46._0xd8b04f)]['width']),_0xb1601a['height']=parseInt(this[_0x1c0832(0xbb)]['canvas']['height']),_0xb1601a[_0x1c0832(_0x1faf46._0x637bdc)]['width']=this[_0x1c0832(_0x1faf46._0x52ff19)][_0x1c0832(_0x1faf46._0xd8b04f)]['style'][_0x1c0832(_0x1faf46._0x42f801)],_0xb1601a[_0x1c0832(_0x1faf46._0x2745ab)][_0x1c0832(_0x1faf46._0x3084da)]=this[_0x1c0832(_0x1faf46._0x52ff19)]['canvas'][_0x1c0832(0xc4)]['height'];}}[_0x3c0c74(0xc3)](_0x3707e1){const _0x770bd8={_0x502686:0xe9,_0x4221ce:0xe9,_0xc1396:0x10e,_0x9eb038:0xc2},_0x138c9d=_0x3c0c74;if(!this[_0x138c9d(0xe9)]||!this[_0x138c9d(_0x770bd8._0x502686)]['_data'])return;const _0x1814dd=mars3d__namespace['Util'][_0x138c9d(0x111)]({'type':'FeatureCollection','features':this[_0x138c9d(_0x770bd8._0x4221ce)]['_data']});if(!_0x1814dd)return;return _0x3707e1!==null&&_0x3707e1!==void 0x0&&_0x3707e1['isFormat']?_0x1814dd:Cesium[_0x138c9d(_0x770bd8._0xc1396)][_0x138c9d(0xf3)](_0x1814dd['xmin'],_0x1814dd[_0x138c9d(0x109)],_0x1814dd[_0x138c9d(_0x770bd8._0x9eb038)],_0x1814dd['ymax']);}['_onMapClick'](_0x3afb96){const _0x87256f={_0x58af76:0x103},_0x3c95af=_0x3c0c74;this[_0x3c95af(_0x87256f._0x58af76)]=_0x3afb96,this[_0x3c95af(0xea)]&&this['_mapVRenderer']['clickEvent'](_0x3afb96['windowPosition'],_0x3afb96);}[_0x3c0c74(0xfa)](_0x2ba42a){const _0x2d7283={_0x574871:0xea},_0x463413=_0x3c0c74;this['_cache_event']=_0x2ba42a,this['_mapVRenderer']&&this[_0x463413(_0x2d7283._0x574871)]['mousemoveEvent'](_0x2ba42a['windowPosition'],_0x2ba42a);}['on'](_0x306e77,_0x462c3f,_0x4ac372){const _0x6ad5d1={_0x3fdc9d:0xee},_0x256c9e=_0x3c0c74;this['options'][_0x256c9e(0xee)]=this['options']['methods']||{};if(_0x306e77===mars3d__namespace[_0x256c9e(0xd5)][_0x256c9e(0xbc)])this[_0x256c9e(0x10f)][_0x256c9e(0xee)]['click']=_0xc63fbd=>{_0xc63fbd&&_0x462c3f['bind'](_0x4ac372)({...this['_cache_event'],'layer':this,'data':_0xc63fbd});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x306e77===mars3d__namespace['EventType']['mouseMove']&&(this['options'][_0x256c9e(_0x6ad5d1._0x3fdc9d)]['mousemove']=_0x2d7961=>{_0x2d7961&&_0x462c3f['bind'](_0x4ac372)({...this['_cache_event'],'layer':this,'data':_0x2d7961});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x2c29cc,_0x46bf01){const _0x560dce={_0x9a820b:0xbc,_0x391192:0xbb,_0x24ec15:0xfa,_0x1549f2:0xc8},_0x45ae74=_0x3c0c74;if(_0x2c29cc===_0x45ae74(_0x560dce._0x9a820b)){var _0x2e2ac5;this[_0x45ae74(_0x560dce._0x391192)]['off'](_0x2c29cc,this['_onMapClick'],this),(_0x2e2ac5=this['options']['methods'])!==null&&_0x2e2ac5!==void 0x0&&_0x2e2ac5['mousemove']&&delete this[_0x45ae74(0x10f)]['methods'][_0x45ae74(0xbc)];}else{if(_0x2c29cc==='mouseMove'){var _0x3a08f8;this['_map'][_0x45ae74(0xd2)](_0x2c29cc,this[_0x45ae74(_0x560dce._0x24ec15)],this),(_0x3a08f8=this['options']['methods'])!==null&&_0x3a08f8!==void 0x0&&_0x3a08f8['mousemove']&&delete this['options'][_0x45ae74(0xee)][_0x45ae74(_0x560dce._0x1549f2)];}}return this;}}mars3d__namespace['LayerUtil'][_0x3c0c74(0xcf)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x141dc0){if(_0x141dc0!=='default'&&!exports['hasOwnProperty'](_0x141dc0))Object['defineProperty'](exports,_0x141dc0,{'enumerable':!![],'get':function(){return mapv[_0x141dc0];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
