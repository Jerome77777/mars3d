/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.5.1
 * 编译日期：2023-03-29 10:02:50
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';var _0x55ebfc=_0x1d10;(function(_0x172f64,_0xdbc2ae){var _0x4f4e6f={_0x17b875:0xcb,_0x485833:0x85,_0x284be1:0x8d},_0x21cbba=_0x1d10,_0x222ae9=_0x172f64();while(!![]){try{var _0x16e784=parseInt(_0x21cbba(_0x4f4e6f._0x17b875))/0x1+parseInt(_0x21cbba(0xa5))/0x2+parseInt(_0x21cbba(0x9d))/0x3+parseInt(_0x21cbba(0xa6))/0x4*(-parseInt(_0x21cbba(0xdd))/0x5)+-parseInt(_0x21cbba(_0x4f4e6f._0x485833))/0x6*(parseInt(_0x21cbba(_0x4f4e6f._0x284be1))/0x7)+-parseInt(_0x21cbba(0xb0))/0x8*(-parseInt(_0x21cbba(0x91))/0x9)+-parseInt(_0x21cbba(0xc3))/0xa;if(_0x16e784===_0xdbc2ae)break;else _0x222ae9['push'](_0x222ae9['shift']());}catch(_0x3a57b5){_0x222ae9['push'](_0x222ae9['shift']());}}}(_0x3d91,0x7ac4f));function _interopNamespace(_0x4a9629){var _0x448727={_0x496c10:0x8c},_0x2f52ab=_0x1d10;if(_0x4a9629&&_0x4a9629['__esModule'])return _0x4a9629;var _0x2288eb=Object['create'](null);return _0x4a9629&&Object[_0x2f52ab(0xdf)](_0x4a9629)['forEach'](function(_0x3a2f47){var _0x50b3bd=_0x2f52ab;if(_0x3a2f47!=='default'){var _0x5ebf83=Object['getOwnPropertyDescriptor'](_0x4a9629,_0x3a2f47);Object['defineProperty'](_0x2288eb,_0x3a2f47,_0x5ebf83[_0x50b3bd(_0x448727._0x496c10)]?_0x5ebf83:{'enumerable':!![],'get':function(){return _0x4a9629[_0x3a2f47];}});}}),_0x2288eb[_0x2f52ab(0x83)]=_0x4a9629,_0x2288eb;}function _0x1d10(_0x55eb5b,_0x18eb46){var _0x3d9109=_0x3d91();return _0x1d10=function(_0x1d1088,_0x14fa9c){_0x1d1088=_0x1d1088-0x77;var _0x4103f1=_0x3d9109[_0x1d1088];return _0x4103f1;},_0x1d10(_0x55eb5b,_0x18eb46);}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function ownKeys(_0x39fc5e,_0x520217){var _0x6b92f9={_0x454599:0xdf},_0x1b51e4={_0x4c16dc:0x9e},_0x26edbc=_0x1d10,_0xe32661=Object[_0x26edbc(_0x6b92f9._0x454599)](_0x39fc5e);if(Object['getOwnPropertySymbols']){var _0x979c5e=Object['getOwnPropertySymbols'](_0x39fc5e);_0x520217&&(_0x979c5e=_0x979c5e['filter'](function(_0x175ad5){var _0x55c0b1=_0x26edbc;return Object[_0x55c0b1(_0x1b51e4._0x4c16dc)](_0x39fc5e,_0x175ad5)['enumerable'];})),_0xe32661['push']['apply'](_0xe32661,_0x979c5e);}return _0xe32661;}function _0x3d91(){var _0x2011e9=['isEnabledTime','_coordinates','set','context','rgba(0,\x200,\x200,\x20.1)','off','data','type','_canvasUpdate','scene','COLOR_BUFFER_BIT','layerid','zIndex','default','globalCompositeOperation','5379618UQuRKp','cameraMoveStart','top','click','mouseDown','height','fillStyle','get','7Bhroqr','drawContext','EventType','undefined','617283ONBrYD','position','_onMapClick','Polygon','removeData','Util','trails','bindEvent','BaseLayer','style','writable','forEach','2299440amKwUw','getOwnPropertyDescriptor','update','_cache_event','mode','xmin','mapvAutoHeight','resize','1302322BBPnPT','4baBphs','register','size','dataSet','draw','Point','updateData','hasOwnProperty','__esModule','concat','72oOlsQJ','animatorMoveendEvent','width','mars3d-mapv','push','destroy','__proto__','_pointerEvents','start','DataSet','animator','cameraMoveEnd','getContext','_onMoveStartEvent','_addedHook','key','_setOptionsHook','devicePixelRatio','mousemove','4604830UgmPUg','_map','call','Cartographic','_onMapMouseMove','canvas','enumerable','canvasLayer','445777cerEVa','getOwnPropertyDescriptors','_removedHook','_reset','fixedHeight','options','addData','none','function','mouseMove','clear','unbindEvent','step','init','methods','0px','defineProperty','MultiLineString','3103760ZLxGkz','getPrototypeOf','keys','_mapVRenderer','render'];_0x3d91=function(){return _0x2011e9;};return _0x3d91();}function _objectSpread2(_0x16bc44){var _0x272bc3={_0x390fd2:0xcc},_0x187007=_0x1d10;for(var _0x439813=0x1;_0x439813<arguments['length'];_0x439813++){var _0x168d9b=null!=arguments[_0x439813]?arguments[_0x439813]:{};_0x439813%0x2?ownKeys(Object(_0x168d9b),!0x0)[_0x187007(0x9c)](function(_0x1f5b99){_defineProperty(_0x16bc44,_0x1f5b99,_0x168d9b[_0x1f5b99]);}):Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x16bc44,Object[_0x187007(_0x272bc3._0x390fd2)](_0x168d9b)):ownKeys(Object(_0x168d9b))['forEach'](function(_0x1574bf){Object['defineProperty'](_0x16bc44,_0x1574bf,Object['getOwnPropertyDescriptor'](_0x168d9b,_0x1574bf));});}return _0x16bc44;}function _classCallCheck(_0x56b554,_0x3f9f37){if(!(_0x56b554 instanceof _0x3f9f37))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x16112b,_0x1d136f){var _0x230bec={_0x3d2fd2:0x9b},_0xe18c3a=_0x1d10;for(var _0x56b7e1=0x0;_0x56b7e1<_0x1d136f['length'];_0x56b7e1++){var _0x54d56a=_0x1d136f[_0x56b7e1];_0x54d56a['enumerable']=_0x54d56a[_0xe18c3a(0xc9)]||![],_0x54d56a['configurable']=!![];if('value'in _0x54d56a)_0x54d56a[_0xe18c3a(_0x230bec._0x3d2fd2)]=!![];Object[_0xe18c3a(0xdb)](_0x16112b,_0x54d56a[_0xe18c3a(0xbf)],_0x54d56a);}}function _createClass(_0x274e1e,_0x336113,_0x5e6c08){var _0x596b0e=_0x1d10;if(_0x336113)_defineProperties(_0x274e1e['prototype'],_0x336113);if(_0x5e6c08)_defineProperties(_0x274e1e,_0x5e6c08);return Object[_0x596b0e(0xdb)](_0x274e1e,'prototype',{'writable':![]}),_0x274e1e;}function _defineProperty(_0x430444,_0x155e9d,_0x315579){var _0x461f72=_0x1d10;return _0x155e9d in _0x430444?Object[_0x461f72(0xdb)](_0x430444,_0x155e9d,{'value':_0x315579,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x430444[_0x155e9d]=_0x315579,_0x430444;}function _inherits(_0x1b1484,_0x2a887f){if(typeof _0x2a887f!=='function'&&_0x2a887f!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x1b1484['prototype']=Object['create'](_0x2a887f&&_0x2a887f['prototype'],{'constructor':{'value':_0x1b1484,'writable':!![],'configurable':!![]}}),Object['defineProperty'](_0x1b1484,'prototype',{'writable':![]});if(_0x2a887f)_setPrototypeOf(_0x1b1484,_0x2a887f);}function _getPrototypeOf(_0x422ac4){var _0x19c892={_0x427a9c:0xde},_0x472284={_0x5a1abe:0xde},_0x2bdf41=_0x1d10;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x2bdf41(_0x19c892._0x427a9c)]:function _0x38f042(_0x25ef12){var _0x2e1cdb=_0x2bdf41;return _0x25ef12['__proto__']||Object[_0x2e1cdb(_0x472284._0x5a1abe)](_0x25ef12);},_getPrototypeOf(_0x422ac4);}function _setPrototypeOf(_0x1a8016,_0x402bc6){return _setPrototypeOf=Object['setPrototypeOf']||function _0x11abe6(_0x320e3b,_0x2b3778){var _0x2eb76c=_0x1d10;return _0x320e3b[_0x2eb76c(0xb6)]=_0x2b3778,_0x320e3b;},_setPrototypeOf(_0x1a8016,_0x402bc6);}function _isNativeReflectConstruct(){var _0x7dd741={_0x22a7c6:0xc5},_0x25794e=_0x1d10;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect['construct']['sham'])return![];if(typeof Proxy==='function')return!![];try{return Boolean['prototype']['valueOf'][_0x25794e(_0x7dd741._0x22a7c6)](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x31ee07){return![];}}function _assertThisInitialized(_0x3a086){if(_0x3a086===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x3a086;}function _possibleConstructorReturn(_0x11ec56,_0x3f97cc){var _0x351bfc={_0x193da0:0xd3},_0x442aaa=_0x1d10;if(_0x3f97cc&&(typeof _0x3f97cc==='object'||typeof _0x3f97cc===_0x442aaa(_0x351bfc._0x193da0)))return _0x3f97cc;else{if(_0x3f97cc!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x11ec56);}function _createSuper(_0x4e6ac4){var _0x275b89=_isNativeReflectConstruct();return function _0x4cbacf(){var _0x5b7ebe=_getPrototypeOf(_0x4e6ac4),_0x4bb3d7;if(_0x275b89){var _0x13eca2=_getPrototypeOf(this)['constructor'];_0x4bb3d7=Reflect['construct'](_0x5b7ebe,arguments,_0x13eca2);}else _0x4bb3d7=_0x5b7ebe['apply'](this,arguments);return _possibleConstructorReturn(this,_0x4bb3d7);};}function _superPropBase(_0x4ecf84,_0x178bf7){var _0x32fe49={_0xd60597:0xad},_0x2213c9=_0x1d10;while(!Object['prototype'][_0x2213c9(_0x32fe49._0xd60597)]['call'](_0x4ecf84,_0x178bf7)){_0x4ecf84=_getPrototypeOf(_0x4ecf84);if(_0x4ecf84===null)break;}return _0x4ecf84;}function _get(){var _0x1c32a8={_0x413532:0x8c},_0x2a8966=_0x1d10;return typeof Reflect!==_0x2a8966(0x90)&&Reflect[_0x2a8966(_0x1c32a8._0x413532)]?_get=Reflect['get']:_get=function _0x25b00c(_0x53b044,_0x41e84b,_0x2c06a0){var _0x1914ae=_0x2a8966,_0x3eaaa1=_superPropBase(_0x53b044,_0x41e84b);if(!_0x3eaaa1)return;var _0x2b7099=Object['getOwnPropertyDescriptor'](_0x3eaaa1,_0x41e84b);if(_0x2b7099['get'])return _0x2b7099[_0x1914ae(0x8c)]['call'](arguments['length']<0x3?_0x53b044:_0x2c06a0);return _0x2b7099['value'];},_get['apply'](this,arguments);}var Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x55ebfc(0xb6)]:Function,MapVRenderer=function(_0x577d18){var _0x4b557e={_0x56e0d9:0xb1,_0xbd5f7f:0xac},_0x341ea8={_0x29d526:0xba},_0x498b90={_0x59787e:0x9f},_0x60ebd8={_0x434582:0xa9,_0x2a7273:0x8c},_0x4f8bda={_0xf2ca6b:0x8c},_0x2dfce9={_0x4bcc79:0xca,_0x5221a:0xbc,_0x27a8f3:0x8b,_0x272d05:0x7a,_0x1ace89:0x8e},_0x3015a2={_0x306a87:0x97},_0x1a4945={_0x2ba7ec:0xca,_0x3d7eb3:0xd0},_0x213b45={_0x3e70a7:0xd8},_0x444747=_0x55ebfc;_inherits(_0x165206,_0x577d18);var _0x13e6a4=_createSuper(_0x165206);function _0x165206(_0x2aefcb,_0x31b525,_0x358bf9,_0x5e0e11){var _0x2de4d4=_0x1d10,_0x4e0e13;_classCallCheck(this,_0x165206),_0x4e0e13=_0x13e6a4['call'](this,_0x2aefcb,_0x31b525,_0x358bf9);if(!BaseLayer$1)return _possibleConstructorReturn(_0x4e0e13);return _0x4e0e13['map']=_0x2aefcb,_0x4e0e13[_0x2de4d4(0x7f)]=_0x2aefcb['scene'],_0x4e0e13['dataSet']=_0x31b525,_0x358bf9=_0x358bf9||{},_0x4e0e13[_0x2de4d4(_0x213b45._0x3e70a7)](_0x358bf9),_0x4e0e13['argCheck'](_0x358bf9),_0x4e0e13['initDevicePixelRatio'](),_0x4e0e13[_0x2de4d4(0xca)]=_0x5e0e11,_0x4e0e13['stopAniamation']=!0x1,_0x4e0e13['animation']=_0x358bf9['animation'],_0x4e0e13;}return _createClass(_0x165206,[{'key':'initDevicePixelRatio','value':function _0x3bd2a5(){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}},{'key':'addAnimatorEvent','value':function _0x32e469(){}},{'key':'animatorMovestartEvent','value':function _0x446847(){var _0x352dac=_0x1d10,_0x3bc3aa=this[_0x352dac(0xd0)]['animation'];this[_0x352dac(0xe2)]()&&this['animator']&&(this['steps'][_0x352dac(0xd7)]=_0x3bc3aa['stepsRange'][_0x352dac(0xb8)]);}},{'key':_0x444747(_0x4b557e._0x56e0d9),'value':function _0x371dc5(){this['isEnabledTime']()&&this['animator'];}},{'key':'getContext','value':function _0x4ad4ee(){return this['canvasLayer']['canvas']['getContext'](this['context']);}},{'key':_0x444747(0xd8),'value':function _0x38980c(_0x4ad0bd){var _0x1e0d28=_0x444747;this['options']=_0x4ad0bd,this['initDataRange'](_0x4ad0bd),this['context']=this['options']['context']||'2d',this[_0x1e0d28(0xd0)]['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this[_0x1e0d28(_0x1a4945._0x2ba7ec)]['setZIndex'](this[_0x1e0d28(_0x1a4945._0x3d7eb3)]['zIndex']),this['initAnimator']();}},{'key':'_canvasUpdate','value':function _0x17ae7f(_0x5766dc){var _0x57b1bc={_0x2982bf:0xa3,_0x2af150:0xc6,_0x2a4cff:0xa1},_0x287f24=_0x444747,_0x372c66=this['scene'];if(this[_0x287f24(_0x2dfce9._0x4bcc79)]&&!this['stopAniamation']){var _0x5182f0=this['options']['animation'],_0x50daf7=this[_0x287f24(_0x2dfce9._0x5221a)]();if(this['isEnabledTime']()){if(void 0x0===_0x5766dc)return void this['clear'](_0x50daf7);this[_0x287f24(0x79)]==='2d'&&(_0x50daf7['save'](),_0x50daf7[_0x287f24(0x84)]='destination-out',_0x50daf7[_0x287f24(_0x2dfce9._0x27a8f3)]=_0x287f24(_0x2dfce9._0x272d05),_0x50daf7['fillRect'](0x0,0x0,_0x50daf7['canvas']['width'],_0x50daf7[_0x287f24(0xc8)]['height']),_0x50daf7['restore']());}else this['clear'](_0x50daf7);if(this['context']==='2d')for(var _0x5bd622 in this['options']){_0x50daf7[_0x5bd622]=this['options'][_0x5bd622];}else _0x50daf7['clear'](_0x50daf7[_0x287f24(0x80)]);var _0x3fbf6a={'transferCoordinate':function _0x139923(_0x5a31de){var _0x35aa86=_0x287f24,_0x28ab39=null,_0x517c76=_0x372c66['mapvFixedHeight'];_0x372c66[_0x35aa86(_0x57b1bc._0x2982bf)]&&(_0x517c76=_0x372c66['globe']['getHeight'](Cesium$1[_0x35aa86(_0x57b1bc._0x2af150)]['fromDegrees'](_0x5a31de[0x0],_0x5a31de[0x1])));var _0x17657b=Cesium$1['Cartesian3']['fromDegrees'](_0x5a31de[0x0],_0x5a31de[0x1],_0x517c76);if(!_0x17657b)return _0x28ab39;var _0x4059ef=_0x372c66['cartesianToCanvasCoordinates'](_0x17657b);if(!_0x4059ef)return _0x28ab39;if(_0x372c66['mapvDepthTest']&&_0x372c66[_0x35aa86(_0x57b1bc._0x2a4cff)]===Cesium$1['SceneMode']['SCENE3D']){var _0x5a0492=new Cesium$1['EllipsoidalOccluder'](_0x372c66['globe']['ellipsoid'],_0x372c66['camera']['positionWC']),_0x54b89a=_0x5a0492['isPointVisible'](_0x17657b);if(!_0x54b89a)return _0x28ab39;}return[_0x4059ef['x'],_0x4059ef['y']];}};void 0x0!==_0x5766dc&&(_0x3fbf6a['filter']=function(_0x6388bb){var _0x1eee1c=_0x287f24,_0x1e4079=_0x5182f0[_0x1eee1c(_0x3015a2._0x306a87)]||0xa;return!!(_0x5766dc&&_0x6388bb['time']>_0x5766dc-_0x1e4079&&_0x6388bb['time']<_0x5766dc);});var _0x12e981=this['dataSet']['get'](_0x3fbf6a);this['processData'](_0x12e981),this['options']['unit']==='m'&&this['options'][_0x287f24(0xa8)],this['options']['_size']=this['options']['size'];var _0x9f1fc7=_0x372c66['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x9f1fc7)return;this[_0x287f24(_0x2dfce9._0x1ace89)](_0x50daf7,new mapv__namespace[(_0x287f24(0xb9))](_0x12e981),this['options'],_0x9f1fc7),this['options']['updateCallback']&&this['options']['updateCallback'](_0x5766dc);}}},{'key':_0x444747(_0x4b557e._0xbd5f7f),'value':function _0x53b406(_0x2f7496,_0xb4e0ae){var _0x357eb9=_0x444747,_0x10e4bf=_0x2f7496;_0x10e4bf&&_0x10e4bf['get']&&(_0x10e4bf=_0x10e4bf[_0x357eb9(0x8c)]()),void 0x0!==_0x10e4bf&&this['dataSet'][_0x357eb9(0x78)](_0x10e4bf),_get(_getPrototypeOf(_0x165206['prototype']),'update',this)['call'](this,{'options':_0xb4e0ae});}},{'key':'addData','value':function _0x475e82(_0x5d49ef,_0xdd7631){var _0x5ab586=_0x444747,_0x1097fb=_0x5d49ef;_0x5d49ef&&_0x5d49ef[_0x5ab586(_0x4f8bda._0xf2ca6b)]&&(_0x1097fb=_0x5d49ef['get']()),this[_0x5ab586(0xa9)]['add'](_0x1097fb),this['update']({'options':_0xdd7631});}},{'key':'getData','value':function _0x5ce891(){return this['dataSet'];}},{'key':'removeData','value':function _0x26f8db(_0x537f51){var _0x597e0d=_0x444747;if(this[_0x597e0d(0xa9)]){var _0x5e9d89=this[_0x597e0d(_0x60ebd8._0x434582)][_0x597e0d(_0x60ebd8._0x2a7273)]({'filter':function _0xee09(_0x522f3c){return _0x537f51==null||typeof _0x537f51!=='function'||!_0x537f51(_0x522f3c);}});this['dataSet'][_0x597e0d(0x78)](_0x5e9d89),this[_0x597e0d(0x9f)]({'options':null});}}},{'key':'clearData','value':function _0x25edba(){var _0x546b0a=_0x444747;this['dataSet']&&this['dataSet']['clear'](),this[_0x546b0a(_0x498b90._0x59787e)]({'options':null});}},{'key':'draw','value':function _0x448cdf(){this['canvasLayer']['draw']();}},{'key':_0x444747(0xd5),'value':function _0x1eeff0(_0x40efa5){_0x40efa5&&_0x40efa5['clearRect']&&_0x40efa5['clearRect'](0x0,0x0,_0x40efa5['canvas']['width'],_0x40efa5['canvas']['height']);}},{'key':'destroy','value':function _0x14911d(){var _0x4b5bab=_0x444747;this['clear'](this['getContext']()),this['clearData'](),this[_0x4b5bab(0xba)]&&this[_0x4b5bab(_0x341ea8._0x29d526)]['stop'](),this['animator']=null,this['canvasLayer']=null;}}]),_0x165206;}(BaseLayer$1);if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x6f03dc,_0x2c828c,_0x553303,_0x400c8c){var _0x466dbe={_0x38dad4:0x77,_0x2a0339:0x7d,_0x20305c:0xdc},_0x3d51fe=_0x55ebfc;_0x400c8c=_0x400c8c||_0x3d51fe(_0x466dbe._0x38dad4),_0x553303=_0x553303||'coordinates';for(var _0x918ac3=0x0;_0x918ac3<_0x6f03dc['length'];_0x918ac3++){var _0x19bc45=_0x6f03dc[_0x918ac3]['geometry'],_0x28e84e=_0x19bc45[_0x553303];switch(_0x19bc45[_0x3d51fe(_0x466dbe._0x2a0339)]){case _0x3d51fe(0xab):{var _0x21a279=_0x2c828c(_0x28e84e);_0x21a279?_0x19bc45[_0x400c8c]=_0x21a279:_0x19bc45[_0x400c8c]=[-0x3e7,-0x3e7];}break;case'LineString':{var _0x5ddf94=[];for(var _0x3e2fc9=0x0;_0x3e2fc9<_0x28e84e['length'];_0x3e2fc9++){var _0x58e7f3=_0x2c828c(_0x28e84e[_0x3e2fc9]);_0x58e7f3&&_0x5ddf94[_0x3d51fe(0xb4)](_0x58e7f3);}_0x19bc45[_0x400c8c]=_0x5ddf94;}break;case _0x3d51fe(_0x466dbe._0x20305c):case _0x3d51fe(0x94):{var _0x25e4af=_0x21d808(_0x28e84e);_0x19bc45[_0x400c8c]=_0x25e4af;}break;case'MultiPolygon':{var _0x443482=[];for(var _0x2acbb1=0x0;_0x2acbb1<_0x28e84e['length'];_0x2acbb1++){var _0x47697b=_0x21d808(_0x28e84e[_0x2acbb1]);_0x47697b['length']>0x0&&_0x443482['push'](_0x47697b);}_0x19bc45[_0x400c8c]=_0x443482;}break;}}function _0x21d808(_0xe27843){var _0x1c2fe7=[];for(var _0x598fa5=0x0;_0x598fa5<_0xe27843['length'];_0x598fa5++){var _0x57c540=_0xe27843[_0x598fa5],_0x1bc992=[];for(var _0x24db22=0x0;_0x24db22<_0x57c540['length'];_0x24db22++){var _0x38000c=_0x2c828c(_0x57c540[_0x24db22]);_0x38000c&&_0x1bc992['push'](_0x38000c);}_0x1bc992['length']>0x0&&_0x1c2fe7['push'](_0x1bc992);}return _0x1c2fe7;}return _0x6f03dc;};else throw new Error('请引入\x20mapv\x20库\x20');var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x55ebfc(0x99)],divId=0x0,MapVLayer=function(_0x35ef42){var _0x50a5cd={_0x244e98:0xbe,_0x45d507:0xcd,_0x494b38:0xd1,_0x265f58:0x95,_0xb28096:0xaa,_0x391e04:0xc7},_0x523459={_0x5b8287:0x88,_0x39bbe8:0xd0,_0x111b59:0xc4,_0x3c427b:0xd0,_0x35db6e:0xd9,_0x507d53:0xc2},_0x30908c={_0x277f31:0xd0,_0x4f4145:0x88,_0x4957aa:0x93,_0x5d69d4:0xd4,_0x4f0ab1:0xd9,_0x857f70:0xc2},_0x2dab78={_0x157c17:0xa0},_0x6bfe58={_0x111015:0xe0},_0x228633={_0x125a39:0xa2},_0xb66d4={_0x3b0296:0x87,_0x510eff:0x8a,_0x152c1b:0xc4},_0x4d0612={_0x2daef6:0xe0},_0x328aca={_0x5d8e6c:0xa4},_0x9af167={_0x108a24:0xb7,_0x448c95:0xb2,_0x13d120:0xc8,_0x4115f1:0x9a,_0x523e22:0xd0},_0x500ebf={_0x3dce71:0xac},_0x5aa24c={_0x59d114:0xe0},_0x115537={_0x32a39f:0x8f,_0x4df4a2:0xce},_0x23abc4={_0x158387:0x89,_0x90acb0:0xbb,_0x384a7b:0xd0},_0x10b6ad={_0x175305:0x86,_0x340f55:0xbd,_0xd62962:0xc7},_0x22cdf9={_0x402abf:0xc1,_0x490446:0xc1},_0x16d9a1={_0x55bd60:0xc8},_0x2af430={_0x49a4b1:0xe0,_0x2793c5:0xd0},_0x32b27a={_0x386a09:0xcf},_0x81fbd4={_0x4352a1:0xc8},_0xc8565d=_0x55ebfc;_inherits(_0x50eebb,_0x35ef42);var _0x51b999=_createSuper(_0x50eebb);function _0x50eebb(_0x44da1d,_0x37db17){var _0x25cf74=_0x1d10,_0x35f999;return _classCallCheck(this,_0x50eebb),_0x35f999=_0x51b999['call'](this,_0x44da1d),_0x35f999[_0x25cf74(0xb7)]=_0x35f999['options']['pointerEvents'],_0x35f999['dataSet']=_0x37db17||new mapv__namespace['DataSet'](_0x44da1d[_0x25cf74(0x7c)]),_0x35f999['canvas']=null,_0x35f999;}return _createClass(_0x50eebb,[{'key':'pointerEvents','get':function _0x24a465(){return this['_pointerEvents'];},'set':function _0x5c719d(_0x186587){var _0xbf8d45=_0x1d10;this['_pointerEvents']=_0x186587,this[_0xbf8d45(_0x81fbd4._0x4352a1)]&&(_0x186587?this['canvas']['style']['pointerEvents']='all':this[_0xbf8d45(0xc8)]['style']['pointerEvents']=_0xbf8d45(0xd2));}},{'key':'_showHook','value':function _0x4f5dd1(_0x59eea6){var _0x57bdc6=_0x1d10;_0x59eea6?this['canvas'][_0x57bdc6(0x9a)]['display']='block':this['canvas']['style']['display']='none';}},{'key':'_mountedHook','value':function _0x29d088(){var _0x4f1b90=_0x1d10,_0x2315df,_0x32c4c6,_0x2d04ea;this['_map']['scene']['mapvDepthTest']=(_0x2315df=this['options']['depthTest'])!==null&&_0x2315df!==void 0x0?_0x2315df:!![],this['_map'][_0x4f1b90(0x7f)]['mapvAutoHeight']=(_0x32c4c6=this['options']['clampToGround'])!==null&&_0x32c4c6!==void 0x0?_0x32c4c6:![],this['_map']['scene']['mapvFixedHeight']=(_0x2d04ea=this['options'][_0x4f1b90(_0x32b27a._0x386a09)])!==null&&_0x2d04ea!==void 0x0?_0x2d04ea:0x0;}},{'key':_0xc8565d(_0x50a5cd._0x244e98),'value':function _0x42d254(){var _0x52cbe1=_0xc8565d;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet']['_data']=[][_0x52cbe1(0xaf)](this['dataSet']['_dataCache'])),this[_0x52cbe1(_0x2af430._0x49a4b1)]=new MapVRenderer(this['_map'],this['dataSet'],this[_0x52cbe1(_0x2af430._0x2793c5)],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this[_0x52cbe1(0x98)](),this['_reset']();}},{'key':_0xc8565d(_0x50a5cd._0x45d507),'value':function _0xb27898(){var _0x318ba1=_0xc8565d;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x318ba1(_0x16d9a1._0x55bd60)]['parentElement']['removeChild'](this['canvas']);}},{'key':'initDevicePixelRatio','value':function _0x1cf187(){var _0x539f74=_0xc8565d;this[_0x539f74(_0x22cdf9._0x402abf)]=window[_0x539f74(_0x22cdf9._0x490446)]||0x1;}},{'key':_0xc8565d(0x98),'value':function _0x500563(){var _0x38b845=_0xc8565d,_0xb03c74,_0x188ab1,_0x22a049,_0x271367;this['_map']['on'](mars3d__namespace['EventType'][_0x38b845(0x89)],this['_onMoveStartEvent'],this),this[_0x38b845(0xc4)]['on'](mars3d__namespace['EventType'][_0x38b845(_0x10b6ad._0x175305)],this[_0x38b845(_0x10b6ad._0x340f55)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0xb03c74=this['options'])!==null&&_0xb03c74!==void 0x0&&(_0x188ab1=_0xb03c74[_0x38b845(0xd9)])!==null&&_0x188ab1!==void 0x0&&_0x188ab1['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x22a049=this['options'])!==null&&_0x22a049!==void 0x0&&(_0x271367=_0x22a049['methods'])!==null&&_0x271367!==void 0x0&&_0x271367['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x38b845(_0x10b6ad._0xd62962)],this);}},{'key':_0xc8565d(0xd6),'value':function _0x37a7d2(){var _0x2d41b1=_0xc8565d,_0x264c92,_0x2518fa,_0x188198,_0x434396;this['_map']['off'](mars3d__namespace['EventType'][_0x2d41b1(_0x23abc4._0x158387)],this['_onMoveStartEvent'],this),this['_map'][_0x2d41b1(0x7b)](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x2d41b1(_0x23abc4._0x90acb0)],this['_onMoveEndEvent'],this),this[_0x2d41b1(0xc4)]['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x264c92=this[_0x2d41b1(_0x23abc4._0x384a7b)])!==null&&_0x264c92!==void 0x0&&(_0x2518fa=_0x264c92['methods'])!==null&&_0x2518fa!==void 0x0&&_0x2518fa['click']&&this['_map']['off'](mars3d__namespace['EventType'][_0x2d41b1(0x88)],this['_onMapClick'],this),(_0x188198=this['options'])!==null&&_0x188198!==void 0x0&&(_0x434396=_0x188198['methods'])!==null&&_0x434396!==void 0x0&&_0x434396['mousemove']&&this['_map'][_0x2d41b1(0x7b)](mars3d__namespace[_0x2d41b1(0x8f)][_0x2d41b1(0xd4)],this['_onMapMouseMove'],this);}},{'key':'_onMoveStartEvent','value':function _0x84d544(){var _0x51b01d=_0xc8565d;this[_0x51b01d(0xe0)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace[_0x51b01d(_0x115537._0x32a39f)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x51b01d(_0x115537._0x32a39f)]['postRender'],this[_0x51b01d(_0x115537._0x4df4a2)],this));}},{'key':'_onMoveEndEvent','value':function _0x3e842b(){var _0x37f13b=_0xc8565d;this['_mapVRenderer']&&(this[_0x37f13b(0xc4)][_0x37f13b(0x7b)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x37f13b(_0x5aa24c._0x59d114)]['animatorMoveendEvent'](),this['_reset']());}},{'key':_0xc8565d(0xc0),'value':function _0x169b7e(_0x2df81b,_0x1eb26e){var _0x132a2d=_0xc8565d;this[_0x132a2d(0xcd)](),this['_addedHook']();}},{'key':_0xc8565d(_0x50a5cd._0x494b38),'value':function _0x452a99(_0x59cde5){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x59cde5,this['options']);}},{'key':'updateData','value':function _0x434d54(_0xf8290a){var _0x3ef40d=_0xc8565d;this['_mapVRenderer']&&this['_mapVRenderer'][_0x3ef40d(_0x500ebf._0x3dce71)](_0xf8290a,this['options']);}},{'key':'getData','value':function _0x18b081(){var _0x1201fd=_0xc8565d;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this[_0x1201fd(0xa9)];}},{'key':_0xc8565d(_0x50a5cd._0x265f58),'value':function _0x427e87(_0x1317bb){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x1317bb);}},{'key':'removeAllData','value':function _0x5a38ed(){var _0x2b3d86=_0xc8565d;this[_0x2b3d86(0xe0)]&&this[_0x2b3d86(0xe0)]['clearData']();}},{'key':'_createCanvas','value':function _0x346467(){var _0x597584=_0xc8565d,_0x26e8df=mars3d__namespace['DomUtil']['create']('canvas',_0x597584(0xb3),this['_map']['container']);_0x26e8df['id']=this['options'][_0x597584(0x81)]||'mapv'+divId++,_0x26e8df['style'][_0x597584(0x92)]='absolute',_0x26e8df['style']['top']=_0x597584(0xda),_0x26e8df['style']['left']='0px',_0x26e8df['style']['pointerEvents']=this[_0x597584(_0x9af167._0x108a24)]?'auto':_0x597584(0xd2),_0x26e8df['style'][_0x597584(0x82)]=this[_0x597584(0xd0)]['zIndex']||0x64,_0x26e8df['width']=parseInt(this['_map']['canvas'][_0x597584(_0x9af167._0x448c95)]),_0x26e8df['height']=parseInt(this['_map']['canvas']['height']),_0x26e8df['style']['width']=this['_map'][_0x597584(_0x9af167._0x13d120)]['style']['width'],_0x26e8df[_0x597584(_0x9af167._0x4115f1)]['height']=this['_map']['canvas'][_0x597584(0x9a)]['height'];if(this[_0x597584(_0x9af167._0x523e22)]['context']==='2d'){var _0x4f359f=this['devicePixelRatio'];_0x26e8df['getContext'](this['options']['context'])['scale'](_0x4f359f,_0x4f359f);}return _0x26e8df;}},{'key':'_reset','value':function _0x4bbef5(){var _0x502e6e=_0xc8565d;this[_0x502e6e(_0x328aca._0x5d8e6c)](),this['render']();}},{'key':_0xc8565d(_0x50a5cd._0xb28096),'value':function _0x108313(){this['_reset']();}},{'key':'remove','value':function _0x584ff9(){var _0x34f12f=_0xc8565d;this[_0x34f12f(_0x4d0612._0x2daef6)]&&(this['_mapVRenderer'][_0x34f12f(0xb5)](),this[_0x34f12f(0xe0)]=null),this['canvas']['parentElement']['removeChild'](this[_0x34f12f(0xc8)]);}},{'key':_0xc8565d(0xe1),'value':function _0x3c8ffc(){var _0x2812f5=_0xc8565d;this['_mapVRenderer'][_0x2812f5(0x7e)]();}},{'key':'resize','value':function _0x5b0f6e(){var _0x59c47b=_0xc8565d;if(this['canvas']){var _0x29dc24=this[_0x59c47b(0xc8)];_0x29dc24['style'][_0x59c47b(0x92)]='absolute',_0x29dc24['style'][_0x59c47b(_0xb66d4._0x3b0296)]='0px',_0x29dc24['style']['left']='0px',_0x29dc24[_0x59c47b(0xb2)]=parseInt(this['_map']['canvas']['width']),_0x29dc24['height']=parseInt(this['_map']['canvas'][_0x59c47b(0x8a)]),_0x29dc24[_0x59c47b(0x9a)]['width']=this[_0x59c47b(0xc4)][_0x59c47b(0xc8)]['style']['width'],_0x29dc24['style'][_0x59c47b(_0xb66d4._0x510eff)]=this[_0x59c47b(_0xb66d4._0x152c1b)]['canvas']['style'][_0x59c47b(0x8a)];}}},{'key':'getRectangle','value':function _0x1a862c(_0x351b9b){var _0xa964e4=_0xc8565d;if(!this['dataSet']||!this[_0xa964e4(0xa9)]['_data'])return;var _0x12bd6e=mars3d__namespace[_0xa964e4(0x96)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x12bd6e)return;return _0x351b9b!==null&&_0x351b9b!==void 0x0&&_0x351b9b['isFormat']?_0x12bd6e:Cesium['Rectangle']['fromDegrees'](_0x12bd6e[_0xa964e4(_0x228633._0x125a39)],_0x12bd6e['ymin'],_0x12bd6e['xmax'],_0x12bd6e['ymax']);}},{'key':'_onMapClick','value':function _0x517954(_0x281cac){var _0x4e2c31=_0xc8565d;this['_cache_event']=_0x281cac,this['_mapVRenderer']&&this[_0x4e2c31(_0x6bfe58._0x111015)]['clickEvent'](_0x281cac['windowPosition'],_0x281cac);}},{'key':_0xc8565d(_0x50a5cd._0x391e04),'value':function _0x2f8992(_0x2ceace){var _0x2fe654=_0xc8565d;this[_0x2fe654(_0x2dab78._0x157c17)]=_0x2ceace,this['_mapVRenderer']&&this[_0x2fe654(0xe0)]['mousemoveEvent'](_0x2ceace['windowPosition'],_0x2ceace);}},{'key':'on','value':function _0x36c93e(_0x4af02a,_0x1a97de,_0x7be175){var _0x3447c7=_0xc8565d,_0x4e164b=this;this['options']['methods']=this[_0x3447c7(_0x30908c._0x277f31)][_0x3447c7(0xd9)]||{};if(_0x4af02a===mars3d__namespace['EventType'][_0x3447c7(0x88)])this['options']['methods']['click']=function(_0x48569e){_0x48569e&&_0x1a97de['bind'](_0x7be175)(_objectSpread2(_objectSpread2({},_0x4e164b['_cache_event']),{},{'layer':_0x4e164b,'data':_0x48569e}));},this['_map']['on'](mars3d__namespace['EventType'][_0x3447c7(_0x30908c._0x4f4145)],this[_0x3447c7(_0x30908c._0x4957aa)],this);else _0x4af02a===mars3d__namespace['EventType'][_0x3447c7(_0x30908c._0x5d69d4)]&&(this[_0x3447c7(_0x30908c._0x277f31)][_0x3447c7(_0x30908c._0x4f0ab1)][_0x3447c7(_0x30908c._0x857f70)]=function(_0x18293){_0x18293&&_0x1a97de['bind'](_0x7be175)(_objectSpread2(_objectSpread2({},_0x4e164b['_cache_event']),{},{'layer':_0x4e164b,'data':_0x18293}));},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}},{'key':'off','value':function _0x33dbff(_0x21d742,_0x4cf0e0){var _0x276c85=_0xc8565d;if(_0x21d742===_0x276c85(_0x523459._0x5b8287)){var _0x4ad1aa;this['_map']['off'](_0x21d742,this['_onMapClick'],this),(_0x4ad1aa=this['options']['methods'])!==null&&_0x4ad1aa!==void 0x0&&_0x4ad1aa['mousemove']&&delete this[_0x276c85(_0x523459._0x39bbe8)]['methods']['click'];}else{if(_0x21d742===_0x276c85(0xd4)){var _0xfcdf6c;this[_0x276c85(_0x523459._0x111b59)]['off'](_0x21d742,this['_onMapMouseMove'],this),(_0xfcdf6c=this['options']['methods'])!==null&&_0xfcdf6c!==void 0x0&&_0xfcdf6c['mousemove']&&delete this[_0x276c85(_0x523459._0x3c427b)][_0x276c85(_0x523459._0x35db6e)][_0x276c85(_0x523459._0x507d53)];}}return this;}}]),_0x50eebb;}(BaseLayer);mars3d__namespace['LayerUtil'][_0x55ebfc(0xa7)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x52dd0e){if(_0x52dd0e!=='default'&&!exports['hasOwnProperty'](_0x52dd0e))Object['defineProperty'](exports,_0x52dd0e,{'enumerable':!![],'get':function(){return mapv[_0x52dd0e];}});}),Object[_0x55ebfc(0xdb)](exports,_0x55ebfc(0xae),{'value':!![]});
}));
