/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.15
 * 编译日期：2023-12-05 11:26:17
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x2a50be=_0x1624;(function(_0x4ce4a2,_0xdbdbd5){const _0x536ae5={_0x48d75c:0x1c9,_0x2f01fd:0x1c0,_0x375ca3:0x175,_0x241cc3:0x194},_0x771e77=_0x1624,_0x55dd70=_0x4ce4a2();while(!![]){try{const _0x426439=-parseInt(_0x771e77(0x1a9))/0x1+-parseInt(_0x771e77(0x1b8))/0x2*(parseInt(_0x771e77(0x1b9))/0x3)+-parseInt(_0x771e77(0x1aa))/0x4*(-parseInt(_0x771e77(0x199))/0x5)+-parseInt(_0x771e77(_0x536ae5._0x48d75c))/0x6*(-parseInt(_0x771e77(0x1c3))/0x7)+parseInt(_0x771e77(0x1c5))/0x8*(-parseInt(_0x771e77(_0x536ae5._0x2f01fd))/0x9)+parseInt(_0x771e77(_0x536ae5._0x375ca3))/0xa*(parseInt(_0x771e77(_0x536ae5._0x241cc3))/0xb)+parseInt(_0x771e77(0x19a))/0xc*(-parseInt(_0x771e77(0x1b4))/0xd);if(_0x426439===_0xdbdbd5)break;else _0x55dd70['push'](_0x55dd70['shift']());}catch(_0x3aca5f){_0x55dd70['push'](_0x55dd70['shift']());}}}(_0x55e1,0x3629d));function _interopNamespace(_0x43f3e5){if(_0x43f3e5&&_0x43f3e5['__esModule'])return _0x43f3e5;var _0x116b05=Object['create'](null);return _0x43f3e5&&Object['keys'](_0x43f3e5)['forEach'](function(_0x3eb358){if(_0x3eb358!=='default'){var _0x5470d4=Object['getOwnPropertyDescriptor'](_0x43f3e5,_0x3eb358);Object['defineProperty'](_0x116b05,_0x3eb358,_0x5470d4['get']?_0x5470d4:{'enumerable':!![],'get':function(){return _0x43f3e5[_0x3eb358];}});}}),_0x116b05['default']=_0x43f3e5,_0x116b05;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x55e1(){const _0x5b0818=['_mapVRenderer','coordinates','getContext','_setOptionsHook','MultiLineString','214149KQgREM','61564ihUPFy','_data','render','updateCallback','getData','create','processData','_cache_event','canvas','methods','2767349VhOpHC','addData','MapVLayer','removeData','13828dAgZvm','21CPFVgB','_map','bindEvent','_canvasUpdate','context','isFormat','camera','280467dfxPGG','mapvAutoHeight','Rectangle','315dkIsQs','absolute','8NvroUa','_reset','mars3d-mapv','bind','30420FiibyK','_pointerEvents','removeChild','clearRect','get','baiduMapLayer','EventType','animatorMoveendEvent','options','globalCompositeOperation','Cesium','draw','click','mousemove','height','push','LayerUtil','282430zEJmjo','step','DataSet','mapv','destination-out','ymin','_mountedHook','isEnabledTime','ymax','none','clearData','width','data','fromDegrees','keys','defineProperty','off','pointerEvents','left','set','animator','_onMapMouseMove','Point','canvasLayer','fillStyle','clear','_coordinates','unbindEvent','init','SCENE3D','mouseMove','33RyygFB','_onMapClick','dataSet','stopAniamation','cameraMoveStart','135yLYxds','12EFjDtM','length','devicePixelRatio','_onMoveStartEvent','scene','style','unit','setZIndex','initDevicePixelRatio','update'];_0x55e1=function(){return _0x5b0818;};return _0x55e1();}const Cesium$1=mars3d__namespace[_0x2a50be(0x16e)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x2a50be(0x1ce)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x1624(_0x88dc10,_0x2116cd){const _0x55e1d0=_0x55e1();return _0x1624=function(_0x162405,_0x44c7ae){_0x162405=_0x162405-0x16c;let _0x126e92=_0x55e1d0[_0x162405];return _0x126e92;},_0x1624(_0x88dc10,_0x2116cd);}class MapVRenderer extends BaseLayer$1{constructor(_0x26c3ef,_0x15bb51,_0x1e5aea,_0x363100){const _0x189d60={_0x1a13a7:0x197},_0x213deb=_0x2a50be;super(_0x26c3ef,_0x15bb51,_0x1e5aea);if(!BaseLayer$1)return;this['map']=_0x26c3ef,this['scene']=_0x26c3ef['scene'],this[_0x213deb(0x196)]=_0x15bb51,_0x1e5aea=_0x1e5aea||{},this[_0x213deb(0x191)](_0x1e5aea),this['argCheck'](_0x1e5aea),this['initDevicePixelRatio'](),this['canvasLayer']=_0x363100,this[_0x213deb(_0x189d60._0x1a13a7)]=!0x1,this['animation']=_0x1e5aea['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x510612={_0x5dd32b:0x16c},_0x3a440e=_0x2a50be,_0x507b01=this[_0x3a440e(_0x510612._0x5dd32b)]['animation'];this[_0x3a440e(0x17c)]()&&this['animator']&&(this['steps'][_0x3a440e(0x176)]=_0x507b01['stepsRange']['start']);}['animatorMoveendEvent'](){const _0x3a3a80={_0x2962d1:0x17c},_0x10abbd=_0x2a50be;this[_0x10abbd(_0x3a3a80._0x2962d1)]()&&this['animator'];}['getContext'](){const _0x5077c1={_0x175113:0x1bd},_0x2bfe53=_0x2a50be;return this[_0x2bfe53(0x18c)]['canvas'][_0x2bfe53(0x1a6)](this[_0x2bfe53(_0x5077c1._0x175113)]);}[_0x2a50be(0x191)](_0x8880a0){const _0x540307={_0x11d698:0x16c,_0x4eb3e6:0x18c,_0x2a781d:0x1a1},_0x7389b9=_0x2a50be;this[_0x7389b9(_0x540307._0x11d698)]=_0x8880a0,this['initDataRange'](_0x8880a0),this['context']=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x7389b9(_0x540307._0x4eb3e6)]['setZIndex']&&this['canvasLayer'][_0x7389b9(_0x540307._0x2a781d)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x13b2b7){const _0x125e2e={_0x843d74:0x17c,_0x35b1c8:0x196,_0x47119a:0x16c,_0x3e9a82:0x16c,_0x246989:0x1ad},_0x13314e={_0x17f6ed:0x192},_0x415472=_0x2a50be,_0x51ce6a=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x42bff6=this['options']['animation'],_0x17382e=this['getContext']();if(this[_0x415472(_0x125e2e._0x843d74)]()){if(void 0x0===_0x13b2b7)return void this['clear'](_0x17382e);this[_0x415472(0x1bd)]==='2d'&&(_0x17382e['save'](),_0x17382e[_0x415472(0x16d)]=_0x415472(0x179),_0x17382e[_0x415472(0x18d)]='rgba(0,\x200,\x200,\x20.1)',_0x17382e['fillRect'](0x0,0x0,_0x17382e['canvas'][_0x415472(0x180)],_0x17382e['canvas'][_0x415472(0x172)]),_0x17382e['restore']());}else this['clear'](_0x17382e);if(this['context']==='2d')for(const _0xadbb73 in this['options']){_0x17382e[_0xadbb73]=this['options'][_0xadbb73];}else _0x17382e['clear'](_0x17382e['COLOR_BUFFER_BIT']);const _0x4c2471={'transferCoordinate':function(_0x5ceff8){const _0x4adcfd=_0x415472,_0x12afc8=null;let _0x4c0456=_0x51ce6a['mapvFixedHeight'];_0x51ce6a[_0x4adcfd(0x1c1)]&&(_0x4c0456=_0x51ce6a['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x5ceff8[0x0],_0x5ceff8[0x1])));const _0x295e19=Cesium$1['Cartesian3']['fromDegrees'](_0x5ceff8[0x0],_0x5ceff8[0x1],_0x4c0456);if(!_0x295e19)return _0x12afc8;const _0x494d39=_0x51ce6a['cartesianToCanvasCoordinates'](_0x295e19);if(!_0x494d39)return _0x12afc8;if(_0x51ce6a['mapvDepthTest']&&_0x51ce6a['mode']===Cesium$1['SceneMode'][_0x4adcfd(_0x13314e._0x17f6ed)]){const _0xa13ebd=new Cesium$1['EllipsoidalOccluder'](_0x51ce6a['globe']['ellipsoid'],_0x51ce6a[_0x4adcfd(0x1bf)]['positionWC']),_0x217ba4=_0xa13ebd['isPointVisible'](_0x295e19);if(!_0x217ba4)return _0x12afc8;}return[_0x494d39['x'],_0x494d39['y']];}};void 0x0!==_0x13b2b7&&(_0x4c2471['filter']=function(_0x58fa18){const _0x265181=_0x42bff6['trails']||0xa;return!!(_0x13b2b7&&_0x58fa18['time']>_0x13b2b7-_0x265181&&_0x58fa18['time']<_0x13b2b7);});const _0x29592b=this[_0x415472(_0x125e2e._0x35b1c8)]['get'](_0x4c2471);this[_0x415472(0x1b0)](_0x29592b),this[_0x415472(_0x125e2e._0x47119a)][_0x415472(0x1a0)]==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x599c16=_0x51ce6a['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3'][_0x415472(0x182)](0x0,0x0));if(!_0x599c16)return;this['drawContext'](_0x17382e,new mapv__namespace['DataSet'](_0x29592b),this[_0x415472(_0x125e2e._0x3e9a82)],_0x599c16),this['options'][_0x415472(_0x125e2e._0x246989)]&&this[_0x415472(0x16c)][_0x415472(0x1ad)](_0x13b2b7);}}['updateData'](_0x431992,_0x5962c3){const _0x86558f=_0x2a50be;let _0x1b5d24=_0x431992;_0x1b5d24&&_0x1b5d24['get']&&(_0x1b5d24=_0x1b5d24['get']()),void 0x0!==_0x1b5d24&&this[_0x86558f(0x196)]['set'](_0x1b5d24),super['update']({'options':_0x5962c3});}[_0x2a50be(0x1b5)](_0x3043b3,_0x5dd921){const _0x20c67d=_0x2a50be;let _0x27c082=_0x3043b3;_0x3043b3&&_0x3043b3[_0x20c67d(0x1cd)]&&(_0x27c082=_0x3043b3['get']()),this['dataSet']['add'](_0x27c082),this['update']({'options':_0x5dd921});}['getData'](){return this['dataSet'];}['removeData'](_0x2f7e8e){const _0x247a8d={_0x1e25e9:0x188},_0x26cf70=_0x2a50be;if(this['dataSet']){const _0x4e992c=this['dataSet']['get']({'filter':function(_0x1e2181){return _0x2f7e8e==null||typeof _0x2f7e8e!=='function'||!_0x2f7e8e(_0x1e2181);}});this['dataSet'][_0x26cf70(_0x247a8d._0x1e25e9)](_0x4e992c),this[_0x26cf70(0x1a3)]({'options':null});}}[_0x2a50be(0x17f)](){const _0x2ab4ca={_0x39b010:0x196},_0x1c9d58=_0x2a50be;this[_0x1c9d58(_0x2ab4ca._0x39b010)]&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0x17a859={_0x225d2f:0x16f},_0x4b6fa0=_0x2a50be;this['canvasLayer'][_0x4b6fa0(_0x17a859._0x225d2f)]();}[_0x2a50be(0x18e)](_0x134f74){const _0x3587c2={_0x406537:0x1cc},_0x54db03=_0x2a50be;_0x134f74&&_0x134f74[_0x54db03(_0x3587c2._0x406537)]&&_0x134f74['clearRect'](0x0,0x0,_0x134f74['canvas']['width'],_0x134f74['canvas']['height']);}['destroy'](){const _0x54d532={_0x33c52f:0x18c},_0x431b1e=_0x2a50be;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this[_0x431b1e(0x189)]['stop'](),this['animator']=null,this[_0x431b1e(_0x54d532._0x33c52f)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x2a50be(0x177)])mapv__namespace[_0x2a50be(0x177)]['prototype']['transferCoordinate']=function(_0x57be16,_0x45d77a,_0x114faa,_0x1db803){const _0x3344bb={_0x53d9f2:0x1a5,_0x15dc1d:0x173},_0x211d56={_0x17e7eb:0x19b,_0x5b538f:0x173},_0x40058a=_0x2a50be;_0x1db803=_0x1db803||_0x40058a(0x18f),_0x114faa=_0x114faa||_0x40058a(_0x3344bb._0x53d9f2);for(let _0x325678=0x0;_0x325678<_0x57be16['length'];_0x325678++){const _0x53f362=_0x57be16[_0x325678]['geometry'],_0x1746d4=_0x53f362[_0x114faa];switch(_0x53f362['type']){case _0x40058a(0x18b):{const _0x37af46=_0x45d77a(_0x1746d4);_0x37af46?_0x53f362[_0x1db803]=_0x37af46:_0x53f362[_0x1db803]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x2616dc=[];for(let _0x2b1b89=0x0;_0x2b1b89<_0x1746d4['length'];_0x2b1b89++){const _0x2a04df=_0x45d77a(_0x1746d4[_0x2b1b89]);_0x2a04df&&_0x2616dc['push'](_0x2a04df);}_0x53f362[_0x1db803]=_0x2616dc;}break;case _0x40058a(0x1a8):case'Polygon':{const _0x49cc55=_0x2d9b1b(_0x1746d4);_0x53f362[_0x1db803]=_0x49cc55;}break;case'MultiPolygon':{const _0x513f83=[];for(let _0x41ec5e=0x0;_0x41ec5e<_0x1746d4['length'];_0x41ec5e++){const _0x4087da=_0x2d9b1b(_0x1746d4[_0x41ec5e]);_0x4087da['length']>0x0&&_0x513f83[_0x40058a(_0x3344bb._0x15dc1d)](_0x4087da);}_0x53f362[_0x1db803]=_0x513f83;}break;}}function _0x2d9b1b(_0x51722e){const _0x46f2ca=_0x40058a,_0x2bad53=[];for(let _0x415429=0x0;_0x415429<_0x51722e['length'];_0x415429++){const _0x3d9cb8=_0x51722e[_0x415429],_0x160f35=[];for(let _0x32e412=0x0;_0x32e412<_0x3d9cb8[_0x46f2ca(_0x211d56._0x17e7eb)];_0x32e412++){const _0x400e72=_0x45d77a(_0x3d9cb8[_0x32e412]);_0x400e72&&_0x160f35[_0x46f2ca(_0x211d56._0x5b538f)](_0x400e72);}_0x160f35['length']>0x0&&_0x2bad53['push'](_0x160f35);}return _0x2bad53;}return _0x57be16;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x21705b,_0x4abfe5){const _0x1dbe32={_0xaa330f:0x1ca,_0x383c51:0x196,_0x498c5e:0x181},_0x13c8e4=_0x2a50be;super(_0x21705b),this[_0x13c8e4(_0x1dbe32._0xaa330f)]=this['options']['pointerEvents'],this[_0x13c8e4(_0x1dbe32._0x383c51)]=_0x4abfe5||new mapv__namespace['DataSet'](_0x21705b[_0x13c8e4(_0x1dbe32._0x498c5e)]),this['canvas']=null;}get[_0x2a50be(0x186)](){return this['_pointerEvents'];}set[_0x2a50be(0x186)](_0x26da86){const _0x52d059={_0x4ce1e0:0x19f,_0x250017:0x17e},_0x2b29f8=_0x2a50be;this['_pointerEvents']=_0x26da86,this['canvas']&&(_0x26da86?this['canvas'][_0x2b29f8(_0x52d059._0x4ce1e0)]['pointerEvents']='all':this['canvas']['style']['pointerEvents']=_0x2b29f8(_0x52d059._0x250017));}['_showHook'](_0x3b30c6){const _0x1b3fcb=_0x2a50be;_0x3b30c6?this[_0x1b3fcb(0x1b2)]['style']['display']='block':this['canvas']['style']['display']=_0x1b3fcb(0x17e);}[_0x2a50be(0x17b)](){const _0x57b9c5={_0x3eeeb7:0x1ba},_0x370717=_0x2a50be;this[_0x370717(_0x57b9c5._0x3eeeb7)][_0x370717(0x19e)]['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene'][_0x370717(0x1c1)]=this['options']['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x4275b7={_0x34094d:0x19b,_0x238d9e:0x1ab,_0x2247c9:0x1ba,_0x109dbc:0x196,_0x57774b:0x1b2,_0x2e7a52:0x1c8,_0x5c2a05:0x1bb},_0x365788=_0x2a50be;this['dataSet']&&(!this['dataSet']['_data']||this[_0x365788(0x196)]['_data'][_0x365788(_0x4275b7._0x34094d)]===0x0)&&(this['dataSet'][_0x365788(_0x4275b7._0x238d9e)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x365788(_0x4275b7._0x2247c9)],this[_0x365788(_0x4275b7._0x109dbc)],this['options'],this),this[_0x365788(0x1a2)](),this[_0x365788(_0x4275b7._0x57774b)]=this['_createCanvas'](),this['render']=this[_0x365788(0x1ac)][_0x365788(_0x4275b7._0x2e7a52)](this),this[_0x365788(_0x4275b7._0x5c2a05)](),this['_reset']();}['_removedHook'](){const _0xe7e4bd={_0x2d341e:0x190,_0x223948:0x1a4,_0x3a1931:0x1b2},_0x4c3cca=_0x2a50be;this[_0x4c3cca(_0xe7e4bd._0x2d341e)](),this['_mapVRenderer']&&(this[_0x4c3cca(_0xe7e4bd._0x223948)]['destroy'](),this['_mapVRenderer']=null),this[_0x4c3cca(_0xe7e4bd._0x3a1931)]['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x4e83ac={_0x5353ce:0x19c},_0x538767=_0x2a50be;this[_0x538767(_0x4e83ac._0x5353ce)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x4bbfdc={_0x2270d7:0x1cf,_0x4c13d1:0x19d,_0x30719a:0x1ba,_0x31b28d:0x1ba},_0x2bdee2=_0x2a50be;var _0x379445,_0xe46694;this['_map']['on'](mars3d__namespace[_0x2bdee2(_0x4bbfdc._0x2270d7)]['mouseDown'],this[_0x2bdee2(_0x4bbfdc._0x4c13d1)],this),this[_0x2bdee2(_0x4bbfdc._0x30719a)]['on'](mars3d__namespace['EventType'][_0x2bdee2(0x198)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x379445=this['options'])!==null&&_0x379445!==void 0x0&&(_0x379445=_0x379445['methods'])!==null&&_0x379445!==void 0x0&&_0x379445['click']&&this[_0x2bdee2(_0x4bbfdc._0x31b28d)]['on'](mars3d__namespace['EventType'][_0x2bdee2(0x170)],this[_0x2bdee2(0x195)],this),(_0xe46694=this['options'])!==null&&_0xe46694!==void 0x0&&(_0xe46694=_0xe46694[_0x2bdee2(0x1b3)])!==null&&_0xe46694!==void 0x0&&_0xe46694['mousemove']&&this[_0x2bdee2(_0x4bbfdc._0x31b28d)]['on'](mars3d__namespace['EventType'][_0x2bdee2(0x193)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x3d58f2={_0x18fbb1:0x1ba,_0x541070:0x1ba,_0x117818:0x185,_0x14e5bf:0x1cf},_0x4963a2=_0x2a50be;var _0x2b7700,_0xd4ef07;this['_map'][_0x4963a2(0x185)](mars3d__namespace[_0x4963a2(0x1cf)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x4963a2(_0x3d58f2._0x18fbb1)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x4963a2(_0x3d58f2._0x541070)][_0x4963a2(_0x3d58f2._0x117818)](mars3d__namespace[_0x4963a2(_0x3d58f2._0x14e5bf)]['postRender'],this['_reset'],this),(_0x2b7700=this['options'])!==null&&_0x2b7700!==void 0x0&&(_0x2b7700=_0x2b7700['methods'])!==null&&_0x2b7700!==void 0x0&&_0x2b7700['click']&&this['_map'][_0x4963a2(0x185)](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0xd4ef07=this['options'])!==null&&_0xd4ef07!==void 0x0&&(_0xd4ef07=_0xd4ef07['methods'])!==null&&_0xd4ef07!==void 0x0&&_0xd4ef07['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x3a8dae={_0x1e1b2f:0x1c6},_0x4ec553=_0x2a50be;this[_0x4ec553(0x1a4)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x4ec553(_0x3a8dae._0x1e1b2f)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x6fea0a={_0x407f06:0x1d0},_0x45111c=_0x2a50be;this[_0x45111c(0x1a4)]&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer'][_0x45111c(_0x6fea0a._0x407f06)](),this['_reset']());}[_0x2a50be(0x1a7)](_0x349f11,_0x55b62a){this['_removedHook'](),this['_addedHook']();}[_0x2a50be(0x1b5)](_0x46b50f){const _0x4e5272=_0x2a50be;this['_mapVRenderer']&&this[_0x4e5272(0x1a4)]['addData'](_0x46b50f,this['options']);}['updateData'](_0x1da561){const _0x174e69={_0x723b3e:0x1a4,_0x11d439:0x1a4},_0x3bf9e0=_0x2a50be;this[_0x3bf9e0(_0x174e69._0x723b3e)]&&this[_0x3bf9e0(_0x174e69._0x11d439)]['updateData'](_0x1da561,this['options']);}['getData'](){const _0x2e90a1={_0x77764f:0x196},_0x33cbb4=_0x2a50be;return this['_mapVRenderer']&&(this[_0x33cbb4(_0x2e90a1._0x77764f)]=this['_mapVRenderer'][_0x33cbb4(0x1ae)]()),this[_0x33cbb4(0x196)];}[_0x2a50be(0x1b7)](_0x51f368){const _0x11f1d3={_0x2a4001:0x1a4},_0x283af1=_0x2a50be;this[_0x283af1(_0x11f1d3._0x2a4001)]&&this['_mapVRenderer']['removeData'](_0x51f368);}['removeAllData'](){const _0x391275=_0x2a50be;this['_mapVRenderer']&&this[_0x391275(0x1a4)][_0x391275(0x17f)]();}['_createCanvas'](){const _0x519c95={_0x294a81:0x1af,_0x3ab3f0:0x1b2,_0x101677:0x1c7,_0x51fdd0:0x1ba,_0x105f0d:0x1c4,_0x32b86f:0x187,_0x397e3f:0x19f,_0x2fb3e5:0x172},_0x29e26b=_0x2a50be,_0xfe7c50=mars3d__namespace['DomUtil'][_0x29e26b(_0x519c95._0x294a81)](_0x29e26b(_0x519c95._0x3ab3f0),_0x29e26b(_0x519c95._0x101677),this[_0x29e26b(_0x519c95._0x51fdd0)]['container']);_0xfe7c50['id']=this['id'],_0xfe7c50['style']['position']=_0x29e26b(_0x519c95._0x105f0d),_0xfe7c50['style']['top']='0px',_0xfe7c50['style'][_0x29e26b(_0x519c95._0x32b86f)]='0px',_0xfe7c50['width']=parseInt(this[_0x29e26b(0x1ba)][_0x29e26b(0x1b2)]['width']),_0xfe7c50[_0x29e26b(0x172)]=parseInt(this[_0x29e26b(0x1ba)][_0x29e26b(0x1b2)]['height']),_0xfe7c50[_0x29e26b(0x19f)]['width']=this['_map'][_0x29e26b(0x1b2)]['style']['width'],_0xfe7c50['style']['height']=this[_0x29e26b(_0x519c95._0x51fdd0)][_0x29e26b(_0x519c95._0x3ab3f0)][_0x29e26b(_0x519c95._0x397e3f)][_0x29e26b(_0x519c95._0x2fb3e5)],_0xfe7c50['style']['pointerEvents']=this['_pointerEvents']?'auto':_0x29e26b(0x17e),_0xfe7c50['style']['zIndex']=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x2b055f=this['devicePixelRatio'];_0xfe7c50[_0x29e26b(0x1a6)](this['options'][_0x29e26b(0x1bd)])['scale'](_0x2b055f,_0x2b055f);}return _0xfe7c50;}[_0x2a50be(0x1c6)](){this['resize'](),this['render']();}['draw'](){const _0x4a48cc={_0x1f787e:0x1c6},_0x358b55=_0x2a50be;this[_0x358b55(_0x4a48cc._0x1f787e)]();}['remove'](){const _0x493dc3={_0x50e879:0x1a4,_0x27d277:0x1cb},_0x5c84cb=_0x2a50be;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this[_0x5c84cb(_0x493dc3._0x50e879)]=null),this['canvas']['parentElement'][_0x5c84cb(_0x493dc3._0x27d277)](this['canvas']);}['render'](){const _0x4217c8={_0x573bd3:0x1bc},_0x3c862d=_0x2a50be;this['_mapVRenderer'][_0x3c862d(_0x4217c8._0x573bd3)]();}['resize'](){const _0xc04c67={_0x29360c:0x180,_0x46036d:0x1b2,_0x1baddb:0x19f,_0x5f3f40:0x172},_0x1589c0=_0x2a50be;if(this['canvas']){const _0x5c172f=this['canvas'];_0x5c172f['style']['position']='absolute',_0x5c172f['style']['top']='0px',_0x5c172f[_0x1589c0(0x19f)][_0x1589c0(0x187)]='0px',_0x5c172f[_0x1589c0(_0xc04c67._0x29360c)]=parseInt(this['_map'][_0x1589c0(_0xc04c67._0x46036d)][_0x1589c0(0x180)]),_0x5c172f['height']=parseInt(this['_map'][_0x1589c0(0x1b2)]['height']),_0x5c172f[_0x1589c0(_0xc04c67._0x1baddb)][_0x1589c0(0x180)]=this[_0x1589c0(0x1ba)]['canvas']['style']['width'],_0x5c172f['style']['height']=this[_0x1589c0(0x1ba)]['canvas']['style'][_0x1589c0(_0xc04c67._0x5f3f40)];}}['getRectangle'](_0x69e34b){const _0x154053={_0x33b222:0x196,_0xbca6c8:0x1be},_0x12955d=_0x2a50be;if(!this['dataSet']||!this[_0x12955d(_0x154053._0x33b222)]['_data'])return;const _0x570817=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x570817)return;return _0x69e34b!==null&&_0x69e34b!==void 0x0&&_0x69e34b[_0x12955d(_0x154053._0xbca6c8)]?_0x570817:Cesium[_0x12955d(0x1c2)]['fromDegrees'](_0x570817['xmin'],_0x570817[_0x12955d(0x17a)],_0x570817['xmax'],_0x570817[_0x12955d(0x17d)]);}['_onMapClick'](_0x10d90e){this['_cache_event']=_0x10d90e,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x10d90e['windowPosition'],_0x10d90e);}['_onMapMouseMove'](_0x4e6a38){this['_cache_event']=_0x4e6a38,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x4e6a38['windowPosition'],_0x4e6a38);}['on'](_0x4850ba,_0x203ef3,_0x291ce0){const _0x46ae0c={_0x43ec03:0x1b3,_0x46afd4:0x195,_0xd5646a:0x193,_0x24fef2:0x18a},_0x45c450={_0x1dd357:0x1b1},_0x5d28ab={_0x29015a:0x1b1},_0x5a1a56=_0x2a50be;this['options'][_0x5a1a56(0x1b3)]=this['options'][_0x5a1a56(_0x46ae0c._0x43ec03)]||{};if(_0x4850ba===mars3d__namespace[_0x5a1a56(0x1cf)][_0x5a1a56(0x170)])this['options']['methods']['click']=_0x2c90d8=>{const _0x4c7a2e=_0x5a1a56;_0x2c90d8&&_0x203ef3['bind'](_0x291ce0)({...this[_0x4c7a2e(_0x5d28ab._0x29015a)],'layer':this,'data':_0x2c90d8});},this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0x5a1a56(_0x46ae0c._0x46afd4)],this);else _0x4850ba===mars3d__namespace[_0x5a1a56(0x1cf)][_0x5a1a56(0x193)]&&(this['options']['methods']['mousemove']=_0x841a72=>{const _0x5761ac=_0x5a1a56;_0x841a72&&_0x203ef3['bind'](_0x291ce0)({...this[_0x5761ac(_0x45c450._0x1dd357)],'layer':this,'data':_0x841a72});},this['_map']['on'](mars3d__namespace[_0x5a1a56(0x1cf)][_0x5a1a56(_0x46ae0c._0xd5646a)],this[_0x5a1a56(_0x46ae0c._0x24fef2)],this));return this;}[_0x2a50be(0x185)](_0x8b80d,_0x31edb1){const _0x9a318e={_0x3b2c74:0x171},_0xfa5221=_0x2a50be;if(_0x8b80d==='click'){var _0x5f1d1c;this[_0xfa5221(0x1ba)]['off'](_0x8b80d,this['_onMapClick'],this),(_0x5f1d1c=this['options']['methods'])!==null&&_0x5f1d1c!==void 0x0&&_0x5f1d1c['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x8b80d===_0xfa5221(0x193)){var _0x204dfb;this['_map']['off'](_0x8b80d,this[_0xfa5221(0x18a)],this),(_0x204dfb=this[_0xfa5221(0x16c)][_0xfa5221(0x1b3)])!==null&&_0x204dfb!==void 0x0&&_0x204dfb['mousemove']&&delete this[_0xfa5221(0x16c)]['methods'][_0xfa5221(_0x9a318e._0x3b2c74)];}}return this;}}mars3d__namespace[_0x2a50be(0x174)]['register'](_0x2a50be(0x178),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x2a50be(0x178)]=mapv__namespace,exports[_0x2a50be(0x1b6)]=MapVLayer,Object[_0x2a50be(0x183)](mapv)['forEach'](function(_0x5a6551){if(_0x5a6551!=='default'&&!exports['hasOwnProperty'](_0x5a6551))Object['defineProperty'](exports,_0x5a6551,{'enumerable':!![],'get':function(){return mapv[_0x5a6551];}});}),Object[_0x2a50be(0x184)](exports,'__esModule',{'value':!![]});
}));
