/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.13
 * 编译日期：2023-11-20 21:18:04
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x38af65=_0x4035;(function(_0x56102d,_0x35648a){const _0x54b365={_0x317dd4:0x222,_0xd17fad:0x1dc,_0x134a29:0x20b,_0x24729c:0x1ef},_0x1b15bb=_0x4035,_0x183eb3=_0x56102d();while(!![]){try{const _0x44ade1=-parseInt(_0x1b15bb(_0x54b365._0x317dd4))/0x1*(parseInt(_0x1b15bb(0x1e2))/0x2)+parseInt(_0x1b15bb(_0x54b365._0xd17fad))/0x3*(-parseInt(_0x1b15bb(0x20d))/0x4)+-parseInt(_0x1b15bb(_0x54b365._0x134a29))/0x5*(parseInt(_0x1b15bb(0x1e0))/0x6)+parseInt(_0x1b15bb(0x212))/0x7*(-parseInt(_0x1b15bb(_0x54b365._0x24729c))/0x8)+parseInt(_0x1b15bb(0x1de))/0x9*(parseInt(_0x1b15bb(0x1ed))/0xa)+parseInt(_0x1b15bb(0x22c))/0xb+parseInt(_0x1b15bb(0x200))/0xc;if(_0x44ade1===_0x35648a)break;else _0x183eb3['push'](_0x183eb3['shift']());}catch(_0x189214){_0x183eb3['push'](_0x183eb3['shift']());}}}(_0x5036,0x536b2));function _interopNamespace(_0x4a3b91){const _0x1b798e={_0x569b7b:0x223};if(_0x4a3b91&&_0x4a3b91['__esModule'])return _0x4a3b91;var _0x3bc01f=Object['create'](null);return _0x4a3b91&&Object['keys'](_0x4a3b91)['forEach'](function(_0x451dae){const _0x414bd1=_0x4035;if(_0x451dae!==_0x414bd1(_0x1b798e._0x569b7b)){var _0x439199=Object['getOwnPropertyDescriptor'](_0x4a3b91,_0x451dae);Object['defineProperty'](_0x3bc01f,_0x451dae,_0x439199['get']?_0x439199:{'enumerable':!![],'get':function(){return _0x4a3b91[_0x451dae];}});}}),_0x3bc01f['default']=_0x4a3b91,_0x3bc01f;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x5036(){const _0x5cca30=['setZIndex','coordinates','ellipsoid','clampToGround','_reset','argCheck','get','52839yxyEhb','_onMapClick','3048498IuazbZ','geometry','2635836vQoVyc','destination-out','2eawtoq','DataSet','isEnabledTime','click','bind','top','updateData','clear','_onMoveStartEvent','unit','Cartesian3','10xxOkWi','options','3033352mYPvmp','Polygon','dataSet','update','cartesianToCanvasCoordinates','off','width','add','clearData','xmax','position','mousemove','zIndex','animator','DomUtil','hasOwnProperty','_canvasUpdate','11198688hBaAev','length','canvas','all','init','globe','mouseMove','clearRect','register','removeAllData','canvasLayer','5ffCcTR','removeData','12cklVCw','removeChild','_map','_showHook','globalCompositeOperation','7PCQhJR','_setOptionsHook','EventType','draw','parentElement','height','time','_onMapMouseMove','EllipsoidalOccluder','left','container','mapvFixedHeight','style','LineString','render','pointerEvents','622086jUEJHz','default','postRender','getContext','getExtentByGeoJSON','BaseLayer','_data','methods','context','_mapVRenderer','6194496LMuVfm','__esModule','mapvAutoHeight','resize','windowPosition','steps','addData','scene','cameraMoveStart','set','defineProperty','scale','fillRect'];_0x5036=function(){return _0x5cca30;};return _0x5036();}function _0x4035(_0x1cd721,_0x1b1df5){const _0x50365e=_0x5036();return _0x4035=function(_0x4035e4,_0x135e74){_0x4035e4=_0x4035e4-0x1d5;let _0x149db5=_0x50365e[_0x4035e4];return _0x149db5;},_0x4035(_0x1cd721,_0x1b1df5);}class MapVRenderer extends BaseLayer$1{constructor(_0x26d788,_0x12c66e,_0x2e0f75,_0x26a2d5){const _0x183613={_0x1039f8:0x233},_0x107cf0=_0x4035;super(_0x26d788,_0x12c66e,_0x2e0f75);if(!BaseLayer$1)return;this['map']=_0x26d788,this[_0x107cf0(0x233)]=_0x26d788[_0x107cf0(_0x183613._0x1039f8)],this['dataSet']=_0x12c66e,_0x2e0f75=_0x2e0f75||{},this['init'](_0x2e0f75),this[_0x107cf0(0x1da)](_0x2e0f75),this['initDevicePixelRatio'](),this['canvasLayer']=_0x26a2d5,this['stopAniamation']=!0x1,this['animation']=_0x2e0f75['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x46bf84={_0x1efba3:0x1e4,_0x76b876:0x231},_0x9b11b0=_0x4035,_0x257e97=this['options']['animation'];this[_0x9b11b0(_0x46bf84._0x1efba3)]()&&this['animator']&&(this[_0x9b11b0(_0x46bf84._0x76b876)]['step']=_0x257e97['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x2d2378=_0x4035;return this[_0x2d2378(0x20a)]['canvas']['getContext'](this['context']);}[_0x38af65(0x204)](_0x386ba7){const _0x2d144e={_0x21e31c:0x20a},_0x2a22a1=_0x38af65;this['options']=_0x386ba7,this['initDataRange'](_0x386ba7),this['context']=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x2a22a1(_0x2d144e._0x21e31c)]['setZIndex']&&this['canvasLayer'][_0x2a22a1(0x1d5)](this['options']['zIndex']),this['initAnimator']();}[_0x38af65(0x1ff)](_0x1517a1){const _0x4ea40f={_0x5a8127:0x202,_0x2354aa:0x22a,_0x2417d2:0x1ee,_0x2734a5:0x1eb,_0x55454d:0x1ec},_0xbe522f={_0x111ea0:0x205},_0x355cb0=_0x38af65,_0x38a3a0=this[_0x355cb0(0x233)];if(this['canvasLayer']&&!this['stopAniamation']){const _0x20cdbf=this['options']['animation'],_0x140900=this[_0x355cb0(0x225)]();if(this[_0x355cb0(0x1e4)]()){if(void 0x0===_0x1517a1)return void this['clear'](_0x140900);this['context']==='2d'&&(_0x140900['save'](),_0x140900[_0x355cb0(0x211)]=_0x355cb0(0x1e1),_0x140900['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x140900[_0x355cb0(0x238)](0x0,0x0,_0x140900[_0x355cb0(0x202)]['width'],_0x140900[_0x355cb0(_0x4ea40f._0x5a8127)]['height']),_0x140900['restore']());}else this['clear'](_0x140900);if(this[_0x355cb0(_0x4ea40f._0x2354aa)]==='2d')for(const _0x22fa2f in this[_0x355cb0(_0x4ea40f._0x2417d2)]){_0x140900[_0x22fa2f]=this[_0x355cb0(_0x4ea40f._0x2417d2)][_0x22fa2f];}else _0x140900['clear'](_0x140900['COLOR_BUFFER_BIT']);const _0x1aea7f={'transferCoordinate':function(_0x293ef4){const _0x3127d3=_0x355cb0,_0x5de287=null;let _0x268ede=_0x38a3a0['mapvFixedHeight'];_0x38a3a0[_0x3127d3(0x22e)]&&(_0x268ede=_0x38a3a0[_0x3127d3(0x205)]['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x293ef4[0x0],_0x293ef4[0x1])));const _0x2bf794=Cesium$1[_0x3127d3(0x1ec)]['fromDegrees'](_0x293ef4[0x0],_0x293ef4[0x1],_0x268ede);if(!_0x2bf794)return _0x5de287;const _0x4be89f=_0x38a3a0[_0x3127d3(0x1f3)](_0x2bf794);if(!_0x4be89f)return _0x5de287;if(_0x38a3a0['mapvDepthTest']&&_0x38a3a0['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x886dbe=new Cesium$1[(_0x3127d3(0x21a))](_0x38a3a0[_0x3127d3(_0xbe522f._0x111ea0)][_0x3127d3(0x1d7)],_0x38a3a0['camera']['positionWC']),_0x222575=_0x886dbe['isPointVisible'](_0x2bf794);if(!_0x222575)return _0x5de287;}return[_0x4be89f['x'],_0x4be89f['y']];}};void 0x0!==_0x1517a1&&(_0x1aea7f['filter']=function(_0x2dfb1a){const _0x152f5c=_0x355cb0,_0x45f143=_0x20cdbf['trails']||0xa;return!!(_0x1517a1&&_0x2dfb1a['time']>_0x1517a1-_0x45f143&&_0x2dfb1a[_0x152f5c(0x218)]<_0x1517a1);});const _0x509f8d=this['dataSet']['get'](_0x1aea7f);this['processData'](_0x509f8d),this['options'][_0x355cb0(_0x4ea40f._0x2734a5)]==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x241791=_0x38a3a0['cartesianToCanvasCoordinates'](Cesium$1[_0x355cb0(_0x4ea40f._0x55454d)]['fromDegrees'](0x0,0x0));if(!_0x241791)return;this['drawContext'](_0x140900,new mapv__namespace['DataSet'](_0x509f8d),this['options'],_0x241791),this['options']['updateCallback']&&this['options']['updateCallback'](_0x1517a1);}}['updateData'](_0x1be04e,_0x10fe60){const _0x1d133b=_0x38af65;let _0xa577ec=_0x1be04e;_0xa577ec&&_0xa577ec['get']&&(_0xa577ec=_0xa577ec['get']()),void 0x0!==_0xa577ec&&this['dataSet'][_0x1d133b(0x235)](_0xa577ec),super['update']({'options':_0x10fe60});}['addData'](_0x57ce15,_0x5b6808){const _0x55adb3={_0x157e23:0x1f6,_0xa954b9:0x1f2},_0x553596=_0x38af65;let _0x16a1c6=_0x57ce15;_0x57ce15&&_0x57ce15['get']&&(_0x16a1c6=_0x57ce15[_0x553596(0x1db)]()),this['dataSet'][_0x553596(_0x55adb3._0x157e23)](_0x16a1c6),this[_0x553596(_0x55adb3._0xa954b9)]({'options':_0x5b6808});}['getData'](){return this['dataSet'];}['removeData'](_0x1ff29f){const _0x4fcc2b={_0x2a7440:0x1f1,_0x2f7aca:0x1db},_0x1bf15d=_0x38af65;if(this['dataSet']){const _0x545937=this[_0x1bf15d(_0x4fcc2b._0x2a7440)][_0x1bf15d(_0x4fcc2b._0x2f7aca)]({'filter':function(_0x1c03ad){return _0x1ff29f==null||typeof _0x1ff29f!=='function'||!_0x1ff29f(_0x1c03ad);}});this['dataSet']['set'](_0x545937),this['update']({'options':null});}}['clearData'](){const _0x40917d=_0x38af65;this['dataSet']&&this['dataSet'][_0x40917d(0x1e9)](),this['update']({'options':null});}['draw'](){const _0x112368=_0x38af65;this[_0x112368(0x20a)][_0x112368(0x215)]();}[_0x38af65(0x1e9)](_0x24866d){const _0x47911c={_0x375dfb:0x202},_0x252a33=_0x38af65;_0x24866d&&_0x24866d[_0x252a33(0x207)]&&_0x24866d['clearRect'](0x0,0x0,_0x24866d[_0x252a33(_0x47911c._0x375dfb)][_0x252a33(0x1f5)],_0x24866d['canvas']['height']);}['destroy'](){const _0x141b08={_0x34aadf:0x1fc},_0x3fcb02=_0x38af65;this['clear'](this[_0x3fcb02(0x225)]()),this[_0x3fcb02(0x1f7)](),this[_0x3fcb02(_0x141b08._0x34aadf)]&&this['animator']['stop'](),this['animator']=null,this[_0x3fcb02(0x20a)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x38af65(0x1e3)]['prototype']['transferCoordinate']=function(_0x1b4020,_0x489983,_0x3f3920,_0x4bac42){const _0x3ba4f1={_0x499f57:0x1df,_0x52ec91:0x1f0,_0x2dc875:0x201},_0x23d8a6=_0x38af65;_0x4bac42=_0x4bac42||'_coordinates',_0x3f3920=_0x3f3920||_0x23d8a6(0x1d6);for(let _0x5ee4b3=0x0;_0x5ee4b3<_0x1b4020['length'];_0x5ee4b3++){const _0x4cef41=_0x1b4020[_0x5ee4b3][_0x23d8a6(_0x3ba4f1._0x499f57)],_0x23129a=_0x4cef41[_0x3f3920];switch(_0x4cef41['type']){case'Point':{const _0x50500f=_0x489983(_0x23129a);_0x50500f?_0x4cef41[_0x4bac42]=_0x50500f:_0x4cef41[_0x4bac42]=[-0x3e7,-0x3e7];}break;case _0x23d8a6(0x21f):{const _0x36abc6=[];for(let _0x588b29=0x0;_0x588b29<_0x23129a[_0x23d8a6(0x201)];_0x588b29++){const _0x390136=_0x489983(_0x23129a[_0x588b29]);_0x390136&&_0x36abc6['push'](_0x390136);}_0x4cef41[_0x4bac42]=_0x36abc6;}break;case'MultiLineString':case _0x23d8a6(_0x3ba4f1._0x52ec91):{const _0xa8b7bc=_0x2819ba(_0x23129a);_0x4cef41[_0x4bac42]=_0xa8b7bc;}break;case'MultiPolygon':{const _0x57ec4f=[];for(let _0x55d5d9=0x0;_0x55d5d9<_0x23129a['length'];_0x55d5d9++){const _0x3b64dc=_0x2819ba(_0x23129a[_0x55d5d9]);_0x3b64dc[_0x23d8a6(_0x3ba4f1._0x2dc875)]>0x0&&_0x57ec4f['push'](_0x3b64dc);}_0x4cef41[_0x4bac42]=_0x57ec4f;}break;}}function _0x2819ba(_0x12fbbe){const _0x1e9774=[];for(let _0x1f2d0a=0x0;_0x1f2d0a<_0x12fbbe['length'];_0x1f2d0a++){const _0xaa3940=_0x12fbbe[_0x1f2d0a],_0x3b669b=[];for(let _0x49c7f3=0x0;_0x49c7f3<_0xaa3940['length'];_0x49c7f3++){const _0x175383=_0x489983(_0xaa3940[_0x49c7f3]);_0x175383&&_0x3b669b['push'](_0x175383);}_0x3b669b['length']>0x0&&_0x1e9774['push'](_0x3b669b);}return _0x1e9774;}return _0x1b4020;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x38af65(0x227)];class MapVLayer extends BaseLayer{constructor(_0x156a40,_0x1ed8ee){const _0x5a462f={_0x10a68d:0x221,_0x7003d8:0x1f1,_0x168ee1:0x202},_0x561ff3=_0x38af65;super(_0x156a40),this['_pointerEvents']=this['options'][_0x561ff3(_0x5a462f._0x10a68d)],this[_0x561ff3(_0x5a462f._0x7003d8)]=_0x1ed8ee||new mapv__namespace['DataSet'](_0x156a40['data']),this[_0x561ff3(_0x5a462f._0x168ee1)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x3e6736){const _0xd7e320=_0x38af65;this['_pointerEvents']=_0x3e6736,this['canvas']&&(_0x3e6736?this['canvas']['style']['pointerEvents']=_0xd7e320(0x203):this['canvas']['style']['pointerEvents']='none');}[_0x38af65(0x210)](_0x4c5031){const _0x3157df={_0x403c88:0x202},_0x2b1163=_0x38af65;_0x4c5031?this['canvas']['style']['display']='block':this[_0x2b1163(_0x3157df._0x403c88)]['style']['display']='none';}['_mountedHook'](){const _0xa13885={_0x478e4c:0x233,_0x4c9478:0x1ee},_0x55fcdd=_0x38af65;this['_map'][_0x55fcdd(_0xa13885._0x478e4c)]['mapvDepthTest']=this[_0x55fcdd(_0xa13885._0x4c9478)]['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options'][_0x55fcdd(0x1d8)]??![],this['_map']['scene'][_0x55fcdd(0x21d)]=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x2266c0={_0x15f146:0x1f1,_0x34185e:0x22b,_0x16828a:0x1f1,_0xd4d2a7:0x1ee,_0x30be15:0x220},_0x427e02=_0x38af65;this['dataSet']&&(!this['dataSet']['_data']||this[_0x427e02(_0x2266c0._0x15f146)]['_data']['length']===0x0)&&(this['dataSet'][_0x427e02(0x228)]=[]['concat'](this['dataSet']['_dataCache'])),this[_0x427e02(_0x2266c0._0x34185e)]=new MapVRenderer(this['_map'],this[_0x427e02(_0x2266c0._0x16828a)],this[_0x427e02(_0x2266c0._0xd4d2a7)],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this[_0x427e02(_0x2266c0._0x30be15)]=this['render'][_0x427e02(0x1e6)](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x3a2999={_0x3cceb8:0x20e},_0x28dd13=_0x38af65;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x28dd13(0x22b)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x28dd13(0x216)][_0x28dd13(_0x3a2999._0x3cceb8)](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x29625f={_0x30908b:0x20f,_0x3159be:0x234,_0x28d5a5:0x1e5},_0x56ec36=_0x38af65;var _0x4e5669,_0xdbab0e;this[_0x56ec36(_0x29625f._0x30908b)]['on'](mars3d__namespace[_0x56ec36(0x214)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x56ec36(0x214)][_0x56ec36(_0x29625f._0x3159be)],this['_onMoveStartEvent'],this),this[_0x56ec36(0x20f)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x4e5669=this['options'])!==null&&_0x4e5669!==void 0x0&&(_0x4e5669=_0x4e5669['methods'])!==null&&_0x4e5669!==void 0x0&&_0x4e5669[_0x56ec36(0x1e5)]&&this['_map']['on'](mars3d__namespace[_0x56ec36(0x214)][_0x56ec36(_0x29625f._0x28d5a5)],this['_onMapClick'],this),(_0xdbab0e=this[_0x56ec36(0x1ee)])!==null&&_0xdbab0e!==void 0x0&&(_0xdbab0e=_0xdbab0e[_0x56ec36(0x229)])!==null&&_0xdbab0e!==void 0x0&&_0xdbab0e['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x3a8a0d={_0x261a70:0x1ea,_0x4a6a04:0x234,_0x224d6d:0x214,_0x1d3363:0x229,_0x17aa86:0x1f4,_0x27c100:0x1ee},_0x223680=_0x38af65;var _0x12eac8,_0x2b3625;this['_map']['off'](mars3d__namespace[_0x223680(0x214)]['mouseDown'],this[_0x223680(_0x3a8a0d._0x261a70)],this),this[_0x223680(0x20f)]['off'](mars3d__namespace['EventType'][_0x223680(_0x3a8a0d._0x4a6a04)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x223680(0x214)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace[_0x223680(_0x3a8a0d._0x224d6d)]['postRender'],this['_reset'],this),(_0x12eac8=this['options'])!==null&&_0x12eac8!==void 0x0&&(_0x12eac8=_0x12eac8[_0x223680(_0x3a8a0d._0x1d3363)])!==null&&_0x12eac8!==void 0x0&&_0x12eac8['click']&&this['_map'][_0x223680(_0x3a8a0d._0x17aa86)](mars3d__namespace['EventType']['click'],this[_0x223680(0x1dd)],this),(_0x2b3625=this[_0x223680(_0x3a8a0d._0x27c100)])!==null&&_0x2b3625!==void 0x0&&(_0x2b3625=_0x2b3625['methods'])!==null&&_0x2b3625!==void 0x0&&_0x2b3625['mousemove']&&this['_map']['off'](mars3d__namespace[_0x223680(0x214)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x33a6ca={_0xc88d9:0x224,_0x548813:0x1d9},_0x407190=_0x38af65;this['_mapVRenderer']&&(this[_0x407190(0x22b)]['animatorMovestartEvent'](),this['_map'][_0x407190(0x1f4)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x407190(0x20f)]['on'](mars3d__namespace[_0x407190(0x214)][_0x407190(_0x33a6ca._0xc88d9)],this[_0x407190(_0x33a6ca._0x548813)],this));}['_onMoveEndEvent'](){const _0x16b946={_0x4f4f9c:0x214,_0x198890:0x1d9},_0x51bdef=_0x38af65;this[_0x51bdef(0x22b)]&&(this[_0x51bdef(0x20f)]['off'](mars3d__namespace[_0x51bdef(_0x16b946._0x4f4f9c)]['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this[_0x51bdef(_0x16b946._0x198890)]());}[_0x38af65(0x213)](_0x5b9eec,_0x451024){this['_removedHook'](),this['_addedHook']();}['addData'](_0x2f1fa6){const _0xf56c24={_0x2313b6:0x232},_0x5d086d=_0x38af65;this['_mapVRenderer']&&this['_mapVRenderer'][_0x5d086d(_0xf56c24._0x2313b6)](_0x2f1fa6,this['options']);}['updateData'](_0x9faed4){const _0x430739={_0x5340f2:0x22b,_0x45f03a:0x1e8},_0x478039=_0x38af65;this['_mapVRenderer']&&this[_0x478039(_0x430739._0x5340f2)][_0x478039(_0x430739._0x45f03a)](_0x9faed4,this['options']);}['getData'](){const _0x188772=_0x38af65;return this[_0x188772(0x22b)]&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x38af65(0x20c)](_0x54a5bb){const _0x1340e6={_0x4896af:0x20c},_0x5156a3=_0x38af65;this[_0x5156a3(0x22b)]&&this['_mapVRenderer'][_0x5156a3(_0x1340e6._0x4896af)](_0x54a5bb);}[_0x38af65(0x209)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x26d383={_0x189356:0x1fd,_0x3cce6e:0x21c,_0x4c88af:0x20f,_0x15b724:0x217,_0x29a307:0x202,_0x188dbe:0x21e,_0x23a0a7:0x217,_0x6f653f:0x1fb,_0x3c9971:0x1fb,_0x4fd2ce:0x225,_0x17a295:0x237},_0x26a4ca=_0x38af65,_0x427858=mars3d__namespace[_0x26a4ca(_0x26d383._0x189356)]['create']('canvas','mars3d-mapv',this['_map'][_0x26a4ca(_0x26d383._0x3cce6e)]);_0x427858['id']=this['id'],_0x427858['style']['position']='absolute',_0x427858['style']['top']='0px',_0x427858['style'][_0x26a4ca(0x21b)]='0px',_0x427858[_0x26a4ca(0x1f5)]=parseInt(this[_0x26a4ca(_0x26d383._0x4c88af)]['canvas'][_0x26a4ca(0x1f5)]),_0x427858[_0x26a4ca(_0x26d383._0x15b724)]=parseInt(this[_0x26a4ca(0x20f)]['canvas']['height']),_0x427858['style']['width']=this[_0x26a4ca(0x20f)][_0x26a4ca(_0x26d383._0x29a307)]['style']['width'],_0x427858['style'][_0x26a4ca(0x217)]=this['_map']['canvas'][_0x26a4ca(_0x26d383._0x188dbe)][_0x26a4ca(_0x26d383._0x23a0a7)],_0x427858['style'][_0x26a4ca(0x221)]=this['_pointerEvents']?'auto':'none',_0x427858['style'][_0x26a4ca(_0x26d383._0x6f653f)]=this['options'][_0x26a4ca(_0x26d383._0x3c9971)]??0x9;if(this['options']['context']==='2d'){const _0x5d3c68=this['devicePixelRatio'];_0x427858[_0x26a4ca(_0x26d383._0x4fd2ce)](this['options'][_0x26a4ca(0x22a)])[_0x26a4ca(_0x26d383._0x17a295)](_0x5d3c68,_0x5d3c68);}return _0x427858;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}['remove'](){this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x38af65(0x22f)](){const _0x57780c={_0x3c8282:0x21e,_0x2c6141:0x20f,_0x33f87e:0x217},_0x5ee123=_0x38af65;if(this['canvas']){const _0x4d491d=this['canvas'];_0x4d491d[_0x5ee123(_0x57780c._0x3c8282)][_0x5ee123(0x1f9)]='absolute',_0x4d491d['style'][_0x5ee123(0x1e7)]='0px',_0x4d491d['style']['left']='0px',_0x4d491d['width']=parseInt(this['_map']['canvas']['width']),_0x4d491d['height']=parseInt(this[_0x5ee123(_0x57780c._0x2c6141)]['canvas'][_0x5ee123(0x217)]),_0x4d491d[_0x5ee123(0x21e)]['width']=this['_map']['canvas']['style']['width'],_0x4d491d['style'][_0x5ee123(_0x57780c._0x33f87e)]=this['_map']['canvas'][_0x5ee123(0x21e)]['height'];}}['getRectangle'](_0x7284ae){const _0x46817d={_0x1c219f:0x1f1,_0x23ca9d:0x228},_0x30caaf=_0x38af65;if(!this[_0x30caaf(_0x46817d._0x1c219f)]||!this[_0x30caaf(_0x46817d._0x1c219f)][_0x30caaf(_0x46817d._0x23ca9d)])return;const _0x48feda=mars3d__namespace['Util'][_0x30caaf(0x226)]({'type':'FeatureCollection','features':this[_0x30caaf(0x1f1)]['_data']});if(!_0x48feda)return;return _0x7284ae!==null&&_0x7284ae!==void 0x0&&_0x7284ae['isFormat']?_0x48feda:Cesium['Rectangle']['fromDegrees'](_0x48feda['xmin'],_0x48feda['ymin'],_0x48feda[_0x30caaf(0x1f8)],_0x48feda['ymax']);}[_0x38af65(0x1dd)](_0x35ddef){const _0x433139={_0x1d720f:0x22b},_0x4974a4=_0x38af65;this['_cache_event']=_0x35ddef,this[_0x4974a4(0x22b)]&&this[_0x4974a4(_0x433139._0x1d720f)]['clickEvent'](_0x35ddef[_0x4974a4(0x230)],_0x35ddef);}[_0x38af65(0x219)](_0x5d0940){const _0x576339={_0x233a83:0x230},_0x2ee741=_0x38af65;this['_cache_event']=_0x5d0940,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x5d0940[_0x2ee741(_0x576339._0x233a83)],_0x5d0940);}['on'](_0x58dc0d,_0x4ecccb,_0x2b501a){const _0x3b5e88={_0x253263:0x1ee,_0x35294c:0x229,_0x4e36db:0x1fa},_0x1d460a={_0x3f8378:0x1e6},_0x5a6baa=_0x38af65;this[_0x5a6baa(_0x3b5e88._0x253263)]['methods']=this[_0x5a6baa(0x1ee)][_0x5a6baa(_0x3b5e88._0x35294c)]||{};if(_0x58dc0d===mars3d__namespace['EventType']['click'])this[_0x5a6baa(0x1ee)]['methods']['click']=_0x1a7a6d=>{const _0x5ea7eb=_0x5a6baa;_0x1a7a6d&&_0x4ecccb[_0x5ea7eb(_0x1d460a._0x3f8378)](_0x2b501a)({...this['_cache_event'],'layer':this,'data':_0x1a7a6d});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x58dc0d===mars3d__namespace['EventType'][_0x5a6baa(0x206)]&&(this['options']['methods'][_0x5a6baa(_0x3b5e88._0x4e36db)]=_0x217bc9=>{_0x217bc9&&_0x4ecccb['bind'](_0x2b501a)({...this['_cache_event'],'layer':this,'data':_0x217bc9});},this[_0x5a6baa(0x20f)]['on'](mars3d__namespace[_0x5a6baa(0x214)][_0x5a6baa(0x206)],this[_0x5a6baa(0x219)],this));return this;}['off'](_0x35091c,_0x496827){const _0x4d5e0d={_0x34ad17:0x1e5,_0x3c1f7b:0x1dd,_0x52bf3d:0x229,_0x1f2175:0x1f4,_0x1299a9:0x1fa,_0x3f6775:0x229,_0x55c984:0x1fa},_0x44faab=_0x38af65;if(_0x35091c===_0x44faab(_0x4d5e0d._0x34ad17)){var _0x31defc;this['_map'][_0x44faab(0x1f4)](_0x35091c,this[_0x44faab(_0x4d5e0d._0x3c1f7b)],this),(_0x31defc=this[_0x44faab(0x1ee)][_0x44faab(_0x4d5e0d._0x52bf3d)])!==null&&_0x31defc!==void 0x0&&_0x31defc['mousemove']&&delete this['options'][_0x44faab(0x229)][_0x44faab(_0x4d5e0d._0x34ad17)];}else{if(_0x35091c==='mouseMove'){var _0x471a0f;this['_map'][_0x44faab(_0x4d5e0d._0x1f2175)](_0x35091c,this['_onMapMouseMove'],this),(_0x471a0f=this['options']['methods'])!==null&&_0x471a0f!==void 0x0&&_0x471a0f[_0x44faab(_0x4d5e0d._0x1299a9)]&&delete this['options'][_0x44faab(_0x4d5e0d._0x3f6775)][_0x44faab(_0x4d5e0d._0x55c984)];}}return this;}}mars3d__namespace['LayerUtil'][_0x38af65(0x208)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x32f07e){const _0x4eeece={_0x3b72cf:0x223,_0x3c28c0:0x236},_0x3555e9=_0x38af65;if(_0x32f07e!==_0x3555e9(_0x4eeece._0x3b72cf)&&!exports[_0x3555e9(0x1fe)](_0x32f07e))Object[_0x3555e9(_0x4eeece._0x3c28c0)](exports,_0x32f07e,{'enumerable':!![],'get':function(){return mapv[_0x32f07e];}});}),Object[_0x38af65(0x236)](exports,_0x38af65(0x22d),{'value':!![]});
}));
